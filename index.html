<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Change log</li>
            <li>14 Apr 2020 - Added</br>jobs.base_price_formatted</li>
            <li>18 Mar 2020 - Added</br>BT validation</li>
            <li>18 Mar 2020 - Added</br>after_availability</li>
            <li>10 Mar 2020 - Added</br>favorite in</br>units and teams</li>
            <li>9 Mar 2020 - Added</br>payload in</br>response message</br>and new error codes</li>
            <li>2 Mar 2020 - Added</br>birth_date_formatted in</br>client/user</li>
            <li>2 Mar 2020 - Added</br>birth_date_formatted in</br>client/register</li>
            <li>27 Feb 2020 - Updated</br>choice_item.payload and added</br>add_favorite, remove_favorite</li>
            <li>26 Feb 2020 - Updated</br>hourly_availability and added</br>hourly_availability_configuration</li>
            <li>23 Feb 2020 - Added </br>hourly_availability</li>
            <li>21 Feb 2020 - Added note</br>to client address</li>
            <li>20 Feb 2020 - Headers, changed</br>X-Device</li>
            <li>11 Feb 2020 - added</br>chice_item.payload.gender</li>
            <li>7 Feb 2020 - added</br>unit/profile.short_bio</li>
            <li>5 Feb 2020 - moved</br>request_reset_password and</br>reset_password to</br>client and unit</li>
            <li>4 Feb 2020 - moved</br>request_reset_password and</br>reset_password to</br>shared</li>
            <li>22 Jan 2020 - /unit/profile, added</br>edit_request_status</li>
            <li>22 Jan 2020 - Headers, added</br>X-Device</li>
            <li>15 Jan 2019 - added </br>payload.id in </br>choice_item.payload</li>
            <li>15 Jan 2019 - added </br>supplementary_field in </br>choice_item.customize</li>
            <li>19 Dec 2019 - changed </br>request_login_step values</li>
            <li>12 Dec 2019 - changed </br>years_experience (int) to</br>experience (string)</li>
            <li>12 Dec 2019 - /units and /teams</br>renamed booking_transaction_id</br>to transaction_id</li>
            <li>11 Dec 2019 - /teams removed</br>duplicate fields in</br>details</li>
            <li>6 Dec 2019 - renamed pro/</br>professional to unit</li>
            <li>5 Dec 2019 - /professionals, /teams</br>added query.booking_id</br>booking_transaction_id</li>
            <li>4 Dec 2019 - /bookings added</br>`professional`and `team`</li>
            <li>3 Dec 2019 - /choice added</br>position `before_availability`,</br>`submit` field and type:</br>pick_pro Added /professionals and</br>/teams endpoints.</li>
            <li>19 Nov 2019 - /choice_items added</br>customize.days_offset and</br>customize.obfTextAreaPlaceholder</li>
            <li>14 Nov 2019 - /append_tags added</br>tag seen_join_the_club</li>
            <li>13 Nov 2019 - /choice_items added</br>customize.obfTooltipDesc</li>
            <li>8 Nov 2019 - /choice_items added</br>best_price tag</li>
            <li>6 Nov 2019 - /logout moved from</br>shared to client and unit</li>
            <li>23 Oct 2019 - /bookings added rate</br>property</li>
            <li>7 Oct 2019 - /booking_transactions</br>/append_tags, /rate</br> added tags</br>/rate_tags, added resource</li>
            <li>25 Sep 2019 - /login, changed</br>keep_me_signed_in default</li>
            <li>24 Sep 2019 - Headers, added</br>REQUEST_TOKEN for retry</li>
            <li>24 Sep 2019 - /client/user</br>added type_id:4 (offline)</li>
            <li>24 Sep 2019 - /login, added</br>keep_me_signed_in</li>
            <li>20 Sep 2019 - /treats, added header</br>{{AUTHORIZATION_TOKEN}}</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to XRM/MP API.</p>

<p>Version 2.1</p>

<h2 id="environments">Environments</h2>

<ul>
<li><em>LIVE - <b>api.fantasticservices.com</em></b></li>
<li><em>STAGE - <b>middlepoint-stg.1dxr.com</em></b></li>
<li><em>DEV - <b>middlepoint-dev.1dxr.com</em></b></li>
</ul>

<p>In this document <code class="prettyprint">{{BASE_URL}}</code> is used as a placeholder for current environment.</p>

<h2 id="namespaces">Namespaces</h2>

<p>Namespace is added after version.</p>

<ul>
<li><em>CLIENT USER - <b>/client</b></em></li>
<li><em>PRO USER - <b>/unit</b></em></li>
<li><em>GLOBAL FOR SYSTEM - <b>/shared</b></em></li>
</ul>

<p>Example:</p>

<p><b><em>api.fantasticservices.com/v2/client</em></b></p>

<p>In this document namespace is included in examples.</p>

<h2 id="applications-identifying-tokens">Applications identifying tokens</h2>

<p>To access API all request must include identifying token header field.</p>

<p><code class="prettyprint">X-Application: {{APPLICATION_TOKEN}}</code></p>

<aside class="notice">
You must replace <code>{{APPLICATION_TOKEN}}</code> with your personal APP token.
</aside>

<h2 id="profile-identifying-tokens">Profile identifying tokens</h2>

<p>To access profile specific data request should include identifying profile header field.</p>

<p><code class="prettyprint">X-Profile: {{PROFILE_ID}}</code></p>

<aside class="notice">
You must replace <code>{{PROFILE_ID}}</code> with your personal profile keyword.
</aside>

<h2 id="authentication">Authentication</h2>

<p>To access user specific data request should include authorization header field.</p>

<p><code class="prettyprint">Authorization: {{AUTHORIZATION_TOKEN}}</code></p>

<h2 id="request-token-retry">Request token (retry)</h2>

<p>To retry a request put request token in the headers (unique string). When sent the server saves the response for this request. Later if client sends the same request token the server will return the saved response without executing any backend logic again. This is useful on client time outs.</p>

<p><code class="prettyprint">X-Request-Token: {{REQUEST_TOKEN}}</code></p>

<aside class="notice">
You must replace <code>{{AUTHORIZATION_TOKEN}}</code> with your personal authorization token.
</aside>

<h2 id="device-details">Device details</h2>

<p>Information about the client device like brand, screen size, os version etc. May also include client application details as build, version etc.
</br>
</br>
Header value consists of key-value pairs delimited by <code class="prettyprint">,</code> (comma and space). Key can contain letters and dashes (kebap-case). Value should not contain spaces.
</br>
</br>
Example:
</br>
<code class="prettyprint">X-Device: screen-size=small,extra-small; type=ios-app,app</code>
</br>
</br>
Accepted params:
</br>
* <code class="prettyprint">screen-size</code> - <code class="prettyprint">extra-small</code>, <code class="prettyprint">small</code>, <code class="prettyprint">medium</code>, <code class="prettyprint">large</code>, <code class="prettyprint">extra-large</code>
</br>
* <code class="prettyprint">type</code> - <code class="prettyprint">ios-app</code>, <code class="prettyprint">android-app</code>, <code class="prettyprint">app</code>, <code class="prettyprint">web-mobile</code>, <code class="prettyprint">web-desktop</code>, <code class="prettyprint">web</code></p>

<h1 id="communication-protocol">Communication Protocol</h1>

<h2 id="request">Request</h2>

<p>All requests to the API have <code class="prettyprint">path</code> component. It&rsquo;s used to access resources and actions. For resources it can be followed by an <code class="prettyprint">id</code> to get resource by id. At the end query parameters (<code class="prettyprint">params</code>) can be added to further modify the response.</p>

<p><code class="prettyprint">https://api.fantasticservices.com/v2/client/{{path}}/{{id}}?{{params}}</code></p>

<p>Accepted request <code class="prettyprint">method</code>s are:</p>

<ul>
<li><code class="prettyprint">GET</code> - read data</li>
<li><code class="prettyprint">POST</code> - create and update data</li>
<li><code class="prettyprint">DELETE</code> - delete data</li>
</ul>

<h3 id="params"><code class="prettyprint">params</code></h3>

<p>When passing an array, index number is optional. For example the array <code class="prettyprint">foo = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code> can be passed both ways - <code class="prettyprint">foo[]=a&amp;foo[]=b&amp;foo[]=c</code> or <code class="prettyprint">foo[0]=a&amp;foo[1]=b&amp;foo[2]=c</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">expand</code></td>
<td><em>array</em></td>
<td><em>null</em></td>
<td>By default child objects are returned as id. With this attribute they can be returned as full objects. Send array of attribute names to expand.<br><br> Keywords:<br><br>all - <em>expands all first level attributes</em><br>all.all - <em>expands all second level attributes</em><br/><br/>Examples:<br/><br/>to expand only services in a category<br/><code class="prettyprint">expand[0]=services</code><br/><br/>to expand all child elements of a category<br/><code class="prettyprint">expand[0]=all</code><br/><br/>to expand all child elements of a category and their child elements<br/><code class="prettyprint">expand[0]=all.all</code><br/><br/>to expand only services in a category and all services child element<br/><code class="prettyprint">expand[0]=services.all</code><br/><br/>to expand only services and infos in a category<br/><code class="prettyprint">expand[0]=services&amp;expand[1]=infos</code></td>
</tr>
<tr>
<td><code class="prettyprint">fields</code></td>
<td><em>array</em></td>
<td><em>all</em></td>
<td>Attributes to receive in response</td>
</tr>
<tr>
<td><code class="prettyprint">exclude_fields</code></td>
<td><em>array</em></td>
<td><em>null</em></td>
<td>Attributes to exclude from response</td>
</tr>
<tr>
<td><code class="prettyprint">include_fields</code></td>
<td><em>array</em></td>
<td><em>null</em></td>
<td>Attributes to add to response which are not returned by default</td>
</tr>
<tr>
<td><code class="prettyprint">paging</code><br><em>optional</em></td>
<td><em>object</em></td>
<td><em>null</em></td>
<td>Information about paged results</td>
</tr>
<tr>
<td><code class="prettyprint">paging.offset</code></td>
<td><em>integer</em></td>
<td><em>0</em></td>
<td>Page starting element</td>
</tr>
<tr>
<td><code class="prettyprint">paging.limit</code></td>
<td><em>integer</em></td>
<td><em>10</em></td>
<td>Page size</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td><em>object</em></td>
<td><em>null</em></td>
<td>Paramters for filtering results. Object has the same structure as the result.<br/><br/>Examples<br/><br/>to filter services by type 1<br/><code class="prettyprint">filter[type]=1</code><br/><br/>to filter services by type 1 or 2<br/><code class="prettyprint">filter[type][0]=1&amp;filter[type][1]=2</code><br/><br/>to filter services by payment_method.type Stripe<br/><code class="prettyprint">filter[payment_methods][type]=Stripe</code><br/><br/>to filter services by payment_method.type Stripe or PayPal<br/><code class="prettyprint">filter[payment_methods][type][0]=Stripe&amp;filter[payment_methods][type][1]=PayPal</code><br/><br/>to filter services by type 1 and payment_method.type Stripe<br/><code class="prettyprint">filter[payment_methods][type][0]=1&amp;filter[payment_methods][type][1]=Stripe</code><br/><br/>Filter parameter filters only the last node.</td>
</tr>
<tr>
<td><code class="prettyprint">query</code></td>
<td><em>object</em></td>
<td><em>null</em></td>
<td>Custom parameters</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>JSON response structured</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">224</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address created."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postal_code missing."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213124</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_availability"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"choice_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"jobs"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All responses are with HTTP status 200 and contain <code class="prettyprint">data</code> parameter. Optionally there can be <code class="prettyprint">success</code>, <code class="prettyprint">error</code> and <code class="prettyprint">warning</code> message elements, <code class="prettyprint">meta</code> element and <code class="prettyprint">paging</code>.</p>

<h3 id="response-object-parameters">Response object parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">data</code><br><em>optional</em></td>
<td><em>array or object</em></td>
<td>Content of response. <code class="prettyprint">data</code> holds array of objects when requesting resources with plural names (e.g. addresses).<code class="prettyprint">data</code> holds object when requesting resources with singular names  (e.g. profile).</td>
</tr>
<tr>
<td><code class="prettyprint">paging</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Information about paged result as requested</td>
</tr>
<tr>
<td><code class="prettyprint">paging.total</code></td>
<td><em>integer</em></td>
<td>Total elements count</td>
</tr>
<tr>
<td><code class="prettyprint">success</code>, <code class="prettyprint">warning</code>, <code class="prettyprint">error</code><br><em>optional</em></td>
<td><em>array</em></td>
<td>Messages with information for the request. More than one type of message can be returned in a response. <code class="prettyprint">success</code> and <code class="prettyprint">error</code> can&rsquo;t come in the same response. <code class="prettyprint">warning</code> can be combined with <code class="prettyprint">success</code> or <code class="prettyprint">error</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">success.payload</code>, <code class="prettyprint">warning.payload</code>, <code class="prettyprint">error.payload</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Object containing contextual data.</td>
</tr>
<tr>
<td><code class="prettyprint">meta</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Object containing system information. Data is returned by the system when action is needed.</td>
</tr>
</tbody></table>

<h2 id="read">Read</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/services/1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cleaning"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free up more time for you and your family. The skilled cleaning experts will take care of your home."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"short_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One-off cleaning"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"clean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"one-off"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fantastic"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"list_image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02034044444"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choice_views"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">338</span><span class="p">,</span><span class="w">
        </span><span class="mi">339</span><span class="p">,</span><span class="w">
        </span><span class="mi">340</span><span class="p">,</span><span class="w">
        </span><span class="mi">341</span><span class="p">,</span><span class="w">
        </span><span class="mi">342</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459492785</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Read data by using <code class="prettyprint">method: GET</code> and specifying <code class="prettyprint">path</code> to resource you want to access. Get object by id with suffix <code class="prettyprint">/{{id}}</code></p>

<p><code class="prettyprint">&quot;path&quot;: &quot;services&quot;</code></p>

<h2 id="create-update">Create/Update</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "address_line_one": "9 Apt.",
  "address_line_two": "24 Red Lion Street",
  "postcode": "SW12 2TN",
  "lat": 51.604903,
  "lng": -0.457022
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/addresses?return=object"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address_line_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9 Apt."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address_line_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24 Red Lion Street"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.604903</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.457022</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address created."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postal_code missing."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213124</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create objects by using <code class="prettyprint">method: POST</code> and specifying <code class="prettyprint">path</code> to resource you want to create. Add suffix <code class="prettyprint">/{{id}}</code> to update existing objects.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;addresses&quot;</code></p>

<p>If operation is successful created/updated object is returned.</p>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">return</code><br><em>optional</em><br><em>default <code class="prettyprint">id</code></em></td>
<td><em>string</em></td>
<td>Determines response content for successfully created/updated object:<br><br><code class="prettyprint">id</code> - returns the id of the created/updated object<br><code class="prettyprint">object</code> - returns the full created/updated object<br><code class="prettyprint">none</code> - returns only response status</td>
</tr>
</tbody></table>

<h2 id="delete">Delete</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X DELETE<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/addresses/255"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1021</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address deleted."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213124</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete objects by using <code class="prettyprint">method: DELETE</code> and specifying <code class="prettyprint">path</code> and <code class="prettyprint">/{{id}}</code> suffix for object to delete.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;addresses&quot;</code></p>

<p>If object is deleted successfully <code class="prettyprint">&quot;success&quot;</code> is returned.</p>

<h2 id="batched-requests">Batched requests</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "requests": [
    {
      "method": "GET",
      "path": "services",
      "params": {
        "expand": [
          "all"
        ],
        "include_fields": [
          "logic_js"
          "choices.customize"
        ],
        "filter": {
          "type": 1,
          "payment_methods": {
            "type": ["Stripe, "PayPal"]
          }
        },
        "paging": {
          "offset": 30,
          "limit": 10
        },
        "query": {
          "with_promotions": true
        }
      },
      "data": null
    }
  ]
}'</span> <span class="s2">"https://{{BASE_URL}}/v2/client"</span>
</code></pre>

<p>Requests can be combined in batches. Server processes them in the order they are received and returns <a href="#batched-responses">batched responses</a> in the same order.</p>

<p>To send batched requests you should POST at <code class="prettyprint">https://{base URL}/{version}/{namespace}</code> endpoint parameter <code class="prettyprint">requests</code> holding array of request objects.</p>

<h3 id="request-object-parameters">Request object parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">method</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Request type.<br><br><em><b>POST</b> - write data to server (create/update)</em><br><em><b>GET</b> - read data from server</em><br><em><b>DELETE</b> - delete data on server</em></td>
</tr>
<tr>
<td><code class="prettyprint">path</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Path to resource to access</td>
</tr>
<tr>
<td><code class="prettyprint">params</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Parameters for the request</td>
</tr>
<tr>
<td><code class="prettyprint">data</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Data to post to server</td>
</tr>
</tbody></table>

<h2 id="batched-responses">Batched responses</h2>

<blockquote>
<p>JSON response structured</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"responses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address created."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postal_code missing."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213124</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The response from batched requests is returned as batched response. It contains parameter <code class="prettyprint">responses</code> that is array holding response objects.</p>

<h3 id="response-object-parameters">Response object parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">responses</code></td>
<td><em>array&lt;<a href="#response">response</a>&gt;</em></td>
<td>Array of response objects. Response objects have the same structure as single <a href="#response">response</a>.</td>
</tr>
</tbody></table>

<h1 id="conventions">Conventions</h1>

<p>Description of API characteristics.</p>

<h2 id="resource-names">Resource names</h2>

<p>If last path component name is in singular form (e.g. <code class="prettyprint">profile</code>) response data will be returned in an object <code class="prettyprint">data: { }</code>. If it is in plural form (e.g. <code class="prettyprint">categories</code>) response data will be returned in an array <code class="prettyprint">data: [{ }, { }]</code></p>

<h2 id="attribute-names">Attribute names</h2>

<h3 id="expand-collapse">expand/collapse</h3>

<p>All child objects can be expanded or collapsed. By default they are collapsed to and id. For example:</p>

<p><code class="prettyprint">job.payment_method: 3</code> - object is collapsed and we see only it&rsquo;s id. It can be expanded to a payment method object.</p>

<p>If the child object will be never expanded the name will have <code class="prettyprint">_id</code> suffix and will look like this:</p>

<p><code class="prettyprint">job.payment_method_id: 3</code></p>

<p>If we want to set <code class="prettyprint">job.payment_method</code> we always use it&rsquo;s id. Check <a href="#setting-child-objects">setting child objects</a></p>

<h3 id="prefix">prefix</h3>

<p>A prefix in a name of attribute is used to differentiate type or variants of the attribute.</p>

<p>For example <code class="prettyprint">price</code> attribute may have different variants as <code class="prettyprint">discounted_price</code>, <code class="prettyprint">member_price</code> etc.</p>

<h3 id="suffix">suffix</h3>

<p>A sufix in a name of attribute is used to differentiate representations of the attribute.</p>

<p>For example integer attribute <code class="prettyprint">work_time</code> holding duration in hours (<code class="prettyprint">2</code>) may have different variant as <code class="prettyprint">work_time_minutes</code> (<code class="prettyprint">120</code>).</p>

<h3 id="suffix-_formatted">suffix _formatted</h3>

<p>If a name has <code class="prettyprint">_formatted</code> suffix it means the attribute holds <code class="prettyprint">string</code> value that is a formatted representation of the attribute.</p>

<p>For example integer attribute <code class="prettyprint">work_time</code> holding duration in hours (<code class="prettyprint">2</code>) when named <code class="prettyprint">work_time_formatted</code> will be returned as a string (<code class="prettyprint">&quot;2 hours&quot;</code>). Integer attribute <code class="prettyprint">work_time_minutes</code> holding duration in minutes (<code class="prettyprint">120</code>) when named <code class="prettyprint">work_time_minutes_formatted</code> will be returned as a string (<code class="prettyprint">&quot;120 minutes&quot;</code>).</p>

<h2 id="id">id</h2>

<p>Every object has <code class="prettyprint">id</code>. It can be interger or string. If it is string it is with prefix <code class="prettyprint">id:</code> in path.</p>

<p>Example object:</p>

<p><code class="prettyprint">register_token_info.id: &quot;xVCJ9&quot;</code></p>

<p>To read resource path would be:</p>

<p><code class="prettyprint">...v2/client/register_token_infos/id:xVCJ9&quot;</code></p>

<h2 id="gropuing-params-in-query">Gropuing params in query</h2>

<p>Any endpoint <code class="prettyprint">params</code> specific to an endpoint are wrapped in a <code class="prettyprint">query</code> object.</p>

<p>For example if we want to pass <code class="prettyprint">from_date</code> parameter to <code class="prettyprint">register_token_infos</code> endpoint it will look like this:</p>

<p><code class="prettyprint">...v2/client/register_token_infos/id:xVCJ9&quot;?query[from_date]=1539862181</code></p>

<h1 id="behaviour">Behaviour</h1>

<p>Details on specific API behaviours on different actions.</p>

<h2 id="setting-child-objects">Setting child objects</h2>

<p>When setting a child object pass only the <code class="prettyprint">id</code> not the full objects.</p>

<p>For example to update <code class="prettyprint">job</code>&rsquo;s child <code class="prettyprint">payment_method</code> object at <code class="prettyprint">...unit/jobs</code> path post:</p>

<p><code class="prettyprint">{&quot;id&quot;: 3, &quot;payment_method&quot;: 1}</code></p>

<h2 id="booking-form-updating">Booking form updating</h2>

<p>When submitting a booking form (booking_transaction.service) whole form should be posted (all choices and choice items, no matter if they are filled by user).</p>

<p>When booking_transaction is posted with <code class="prettyprint">service != null</code> service is overwriten with the new value.</p>

<p>This excludes BFantastic upsell feature. There only modofied items can be sent and the rest will remain with their current values. For example if new radio option is selected in a choice the old should be sent a swell with <code class="prettyprint">&quot;value&quot;:0</code> and the new with <code class="prettyprint">&quot;value&quot;:1</code>.</p>

<p>When posting child choice_item.value with parent choice_item.value = 0 the child is ignored (not validated and processed).</p>

<h2 id="booking-form-validation">Booking form validation</h2>

<p>On booking transaction submit all fields are validated. If there are issues, but:</p>

<ul>
<li>user can continue - server returns <code class="prettyprint">warning</code></li>
<li>user can NOT continue - server returns <code class="prettyprint">error</code></li>
</ul>

<p>Both <code class="prettyprint">warning</code> and <code class="prettyprint">error</code>:</p>

<ul>
<li>may contain <code class="prettyprint">state</code> in their payload with the location of the invalid input field</li>
<li>can reset invalid field input (and input of all related fields)</li>
</ul>

<p>In case of reset <code class="prettyprint">payload.state</code> is the location of the first affected field.</p>

<h2 id="booking-form-required-fields">Booking form required fields</h2>

<p>When choice is <code class="prettyprint">required:true</code> one of it&rsquo;s first level choice items should be selected (have a value &gt; 0).</p>

<p>If a choice item is <code class="prettyprint">required:true</code> one of it&rsquo;s child choice items should be selected. If a chocie item is not selected then <code class="prettyprint">required:true</code> is ignored.</p>

<h2 id="copy-unique-object">copy/unique object</h2>

<ul>
<li><em><b>copy object</b></em> - updating it updates it only in it&rsquo;s context</li>
<li><em><b>unique object</b></em> - updating it updates it in all contexts</li>
</ul>

<p>Examples:</p>

<ul>
<li>A service object in booking transaction is a <em><b>copy object</b></em>. Updating <code class="prettyprint">booking_transaction.service.choice_item.value</code> updates choice item value only in the booking transaction. The <code class="prettyprint">service.choice_item.value</code> remains the same if service is read directly.</li>
<li>Paymethod is an <em><b>unique object</b></em>. Updating <code class="prettyprint">user.paymethod.description</code> updates paymethod description everywhere it appears.</li>
</ul>

<h2 id="multi-level-object-updating">Multi-level object updating</h2>

<p>When an object is posted and one of it&rsquo;s attributes is a child object:</p>

<ul>
<li>if child doesn&rsquo;t have <code class="prettyprint">id</code> object is created</li>
<li>if child has <code class="prettyprint">id</code> and is a <em><b>copy object</b></em> the object is updated</li>
<li>if child has <code class="prettyprint">id</code> and is an <em><b>unique object</b></em> it&rsquo;s converted to the <code class="prettyprint">id</code> value</li>
</ul>

<p>Examples:</p>

<ul>
<li>Posting <code class="prettyprint">booking_transaction.service.choice_item</code> object with <code class="prettyprint">id</code> updates whole <code class="prettyprint">booking_transaction.service.choice_item</code> object.</li>
<li>Posting <code class="prettyprint">booking_transaction.paymethod</code> object with <code class="prettyprint">id</code> sets the passed object as <code class="prettyprint">booking_transaction.paymethod</code>, but doesn&rsquo;t update the object itself.</li>
</ul>

<h1 id="profile">Profile</h1>

<h2 id="profiles">Profiles</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/profiles"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoFantasticUK"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Profiles who contain service data (regions like United Kingdom, Australia etc.)</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;profiles&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title of profile</td>
</tr>
<tr>
<td><code class="prettyprint">keyword</code></td>
<td><em>string</em></td>
<td>Profile identifier used in request headers (<code class="prettyprint">PROFILE_ID</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="configuration">Configuration</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/configuration"</span>
</code></pre>

<blockquote>
<p>The above request app profile success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"default_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default_service_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+442221123123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en_GB"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"terms_and_conditions_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://gofantastic.com/terms-and-conditions.html"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"privacy_policy_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://gofantastic.com/privacy-policy.html"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_manage_membership_section"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_service_search"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_membership_reminder_always"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"most_booked_search_section"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="nt">"referral_bonus_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£20"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"membership_section_content"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{\"join_the_club_screen\":{\"title\":\"Join the Fantastic Club and Start Saving Now!\",\"description\":\"Enjoy the exclusive perks of being a member of the Fantastic Club for an annual fee of &lt;b&gt;only \\u00a349&lt;\\/b&gt;.\",\"how_to_title\":\"How to join?\",\"club_member_benefits\":{\"title\":\"Club Member Benefits\",\"benefits\":[{\"image_url\":\"\",\"title\":\"Flat 10% discount on 25+ Fantastic services\",\"description\":\"Fantastic Club Members get a fixed 10% OFF 25+ Fantastic services*, as well as access to members only deals and slots.\"},{\"image_url\":\"\",\"title\":\"Save over \\u00a3400 a year with our preferential domestic cleaning rates.\",\"description\":\"Book domestic cleaning services at a special rate of \\u00a312\\/h and one-off cleaning at \\u00a314\\/h \"},{\"image_url\":\"\",\"title\":\"Money back guarantee and no cancellation fees\",\"description\":\"100% money-back guarantee on your membership within 30 days of purchase and no bookings cancellation fee for an entire year.\"}],\"additional_details\":\"* Minimum charges per service, slot and area apply. Does not apply to already existing bookings and quotes. For all services discount applies to labour cost only.\"},\"join_button_title\":\"JOIN THE CLUB FOR \\u00a349\\/year\",\"button_description\":\"100% money-back guarantee on your membership within 30 days of purchase\"},\"how_to_join_screen\":{\"description\":\"Becoming a Fantastic Club member is really easy! Simply select the button at the bottom of this page. We\\u2019ll send you an email with more information regarding your membership fee payment.\\n\\nYou can also become a member by following these four steps:\",\"steps\":[\"Choose the service you want to book and pick your desired time slot.\",\"Select the discounted prices for members by tapping the switch at the top of the screen.\",\"Press proceed and select Join the Club to add the annual \\u00a349 Fantastic Club membership fee to your booking. The price of the service will then be automatically updated with the discounted price for members.\",\"Finish your booking by completing your payment by credit card. The next time you book a service, you will automatically see your discounted member price.\"],\"join_button_title\":\"JOIN THE CLUB FOR \\u00a349\\/year\",\"button_description\":\"100% money-back guarantee on your membership within 30 days of purchase\"},\"become_a_member_section\":{\"title\":\"Become a Member for only \\u00a349\",\"description\":\"Join now to continue booking at the discounted rates for members. Your annual membership will be added to the total of your booking and valid for one year from the time of purchase.\"}}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"request_login_step"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/pG0cOtlAnWPq9PPH1dOaRGiq1g1o17QLE2zFTFxhyiNcgpmDd4b6hkvEFgb4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoFantstic://bookings"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/pG0cOtlAnWPq9PPH1dOaRGiq1g1o17QLE2zFTFxhyiNcgpmDd4b6hkvEFgb4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://accounts.fantasticservices.com/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"register_popup_titles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app_start"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello there"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"positions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"before_summary"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello there too"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"template_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Cleaners"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"website_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://domainname.com/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"chat_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="mi">5</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"show_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cta_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#6c391c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://domainname.com/images/logo.jpg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Configuration object parameters for initial settings in the client side based on the <code class="prettyprint">X-Profile</code></p>

<p><code class="prettyprint">&quot;path&quot;: &quot;configuration&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">template_name</code></td>
<td><em>string</em></td>
<td>If you want to customize an existing template it will help you decide which template needs to be loaded.</td>
</tr>
<tr>
<td><code class="prettyprint">brand_name</code></td>
<td><em>string</em></td>
<td>If you need website title to display</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td><em>string</em></td>
<td>Default website phone number</td>
</tr>
<tr>
<td><code class="prettyprint">default_category_id</code></td>
<td><em>integer</em></td>
<td>Configuration for default selected category in the interface</td>
</tr>
<tr>
<td><code class="prettyprint">default_service_id</code></td>
<td><em>integer</em></td>
<td>Configuration for default selected service in the interface</td>
</tr>
<tr>
<td><code class="prettyprint">currency_code</code></td>
<td><em>string</em></td>
<td>Configuration for the currency code</td>
</tr>
<tr>
<td><code class="prettyprint">locale</code></td>
<td><em>string</em></td>
<td>Configuration for the locale</td>
</tr>
<tr>
<td><code class="prettyprint">website_url</code></td>
<td><em>string</em></td>
<td>Configuration for the full website url with protocol Ex.: https://domainname.com/</td>
</tr>
<tr>
<td><code class="prettyprint">terms_and_conditions_url</code></td>
<td><em>string</em></td>
<td>Configuration of full url in website for terms and conditions</td>
</tr>
<tr>
<td><code class="prettyprint">privacy_policy_url</code></td>
<td><em>string</em></td>
<td>Configuration of full url in website for privacy and policy]</td>
</tr>
<tr>
<td><code class="prettyprint">show_manage_membership_section</code></td>
<td><em>boolean</em></td>
<td>Configuration for hiding or showing managing membership section in account</td>
</tr>
<tr>
<td><code class="prettyprint">referral_bonus_formatted</code></td>
<td><em>string</em></td>
<td>Formatted amount of bonus client receives when another client registers with their referral code and book a service.</td>
</tr>
<tr>
<td><code class="prettyprint">payment_methods</code></td>
<td><em>array&lt;<a href="#payment-methods">payment_method</a>&gt;</em></td>
<td>Payment methods for profile</td>
</tr>
</tbody></table>

<h3 id="app-profiles-additional-response-parameters">App profiles additional response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">referral_bonus_formatted</code></td>
<td><em>string</em></td>
<td>Referral program bonus amount formatted</td>
</tr>
<tr>
<td><code class="prettyprint">membership_section_content</code></td>
<td><em>string</em></td>
<td>JSON with membership section content in account tab and on timeslots purchase.</td>
</tr>
<tr>
<td><code class="prettyprint">show_service_search</code></td>
<td><em>boolean</em></td>
<td>Configuration for hiding or showing search servide field</td>
</tr>
<tr>
<td><code class="prettyprint">show_membership_reminder_always</code></td>
<td><em>boolean</em></td>
<td>Configuration for membership reminder behaviour</td>
</tr>
<tr>
<td><code class="prettyprint">most_booked_search_section</code></td>
<td><em>array&lt;integer&gt;</em></td>
<td>List of service/deals ids</td>
</tr>
<tr>
<td><code class="prettyprint">request_login_step</code></td>
<td><em>integer</em></td>
<td>Determines where user has to login to continue:<br><em><b>1</b> (on_welcome)</em> - On welcome screen (legacy)<br><em><b>2</b> (after_welcome)</em>  - After welcome screen (legacy)<br><em><b>3</b> (init)</em>  - After coverage (legacy). Upon submittion of last init choice<br><em><b>10</b> (configurator)</em>  - Upon submittion of last  <code class="prettyprint">choice.position:configurator</code> choice<br><em><b>4</b> (before_availability)</em>  - Before timeslots (legacy). Upon submittion of last <code class="prettyprint">choice.position:before_availability</code> (if no <code class="prettyprint">choice.position:before_availability</code> then <code class="prettyprint">choice.position:configurator</code>)<br><em><b>5</b> (availability)</em>  - After timeslots (legacy). Upon submittion of last <code class="prettyprint">choice.position:after_availability</code> (if no <code class="prettyprint">choice.position:after_availability</code> then <code class="prettyprint">choice.position:availability</code>)<br><em><b>20</b> (before_summary)</em>  - Upon submittion of last  <code class="prettyprint">choice.position:before_summary</code> choice<br><em><b>30</b> (on_summary)</em>  - Upon submittion of last  <code class="prettyprint">choice.position: on_summary</code> choice<br><em><b>40</b> (before_confirmation)</em>  - Upon submittion of last  <code class="prettyprint">choice.position: before_confirmation</code> choice<br><em><b>50</b> (confirmation)</em>  - Upon submittion of last  <code class="prettyprint">choice.position: confirmation</code> choice</td>
</tr>
<tr>
<td><code class="prettyprint">banners</code></td>
<td><em>array&lt;banner&gt;</em></td>
<td>List of banners for the application</td>
</tr>
<tr>
<td><code class="prettyprint">banners.type</code></td>
<td><em>integer</em></td>
<td>Determines where to show the banner:<br><em><b>1</b> - categories list</em><br><em><b>2</b> - services list</em><br></td>
</tr>
<tr>
<td><code class="prettyprint">banners.category_id</code></td>
<td><em>integer</em></td>
<td>Category in which to show the banner</td>
</tr>
<tr>
<td><code class="prettyprint">banners.image_url</code></td>
<td><em>string</em></td>
<td>URL for image to display in banner</td>
</tr>
<tr>
<td><code class="prettyprint">banners.sort</code></td>
<td><em>integer</em></td>
<td>Order in list of categories or services</td>
</tr>
<tr>
<td><code class="prettyprint">register_popup_titles</code></td>
<td><em>array&lt;register_popup_title&gt;</em></td>
<td>List of titles for registration popup</td>
</tr>
<tr>
<td><code class="prettyprint">register_popup_titles.position</code></td>
<td><em>string</em></td>
<td>Position of register popup:<br/><em><b>categories</b> - at categories list</em><br><em><b>account_tab</b> - on tapping of account tab</em><br><em><b>deal</b> - on tapping a deal</em><br><em><b>membership</b> - on tapping membership in account tab</em><br><em><b>referral</b> - on tapping referral in account tab</em><br><em><b>before_timeslots</b> - before showing timeslots (request_logi_step:4)</em><br><em><b>before_summary</b> - before showing summary(request_logi_step:5)</em></td>
</tr>
<tr>
<td><code class="prettyprint">register_popup_titles.title</code></td>
<td><em>string</em></td>
<td>Title of register popup for the position</td>
</tr>
<tr>
<td><code class="prettyprint">chat_version</code></td>
<td><em>integer</em></td>
<td>Version of chat used:<br><em><b>1</b> - FreshChat</em></td>
</tr>
</tbody></table>

<h3 id="web-profiles-additional-response-parameters">Web profiles additional response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">show_phone</code></td>
<td><em>boolean</em></td>
<td>Configuration for hiding or showing website phone number in the interface</td>
</tr>
<tr>
<td><code class="prettyprint">cta_color</code></td>
<td><em>string</em></td>
<td>Configuration if you want to customize Call to Action colors in the template</td>
</tr>
<tr>
<td><code class="prettyprint">logo_url</code></td>
<td><em>string</em></td>
<td>Configuration full path of the website logo Ex.: https://domainname.com/images/logo.png</td>
</tr>
</tbody></table>

<h2 id="social-providers">Social providers</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/social_providers"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facebook Sign In"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1233511121351831</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kljfadafdsfsdf.fantastic.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Social providers for client registering and logging in.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;social_providers&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td>Type of social provider:<br/><em><b>Facebook</b> - Facebook</em><br/><em><b>Google</b> - Google</em></td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Name of social provider</td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td><em>object</em></td>
<td>Keys to identify with the social provider</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="validations">Validations</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/validations"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"register"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first_name"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^(?=.*\\S).+$/"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last_name"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^(?=.*\\S).+$/"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/([a-z0-9_\\.\\-])+\\@(([a-z0-9\\-])+\\.)+([a-z0-9]{2,})+/i"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^.{5,}$/"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"referrer_code"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^[0-9a-z\\.\\-]*$/i"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"addresses"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address_line_one"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^.+$/"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"postcode"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^([A-Z]{1,2})([0-9][0-9A-Z]?)\\s*([0-9])([A-Z]{2})$/i"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phones"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^(0|00|\\+)([0-9]{8,15})$/"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking_transactions"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voucher"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/^[0-9a-z\\.\\-]*$/i"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Validation object should be used for client side validation of fields before posting to server.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;validations&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">path</code></td>
<td><em>string</em></td>
<td>Path at which fields to validated will be posted</td>
</tr>
<tr>
<td><code class="prettyprint">fields</code></td>
<td><em>array</em></td>
<td>Array of field validation objects</td>
</tr>
<tr>
<td><code class="prettyprint">fields.name</code></td>
<td><em>string</em></td>
<td>Field key name in json</td>
</tr>
<tr>
<td><code class="prettyprint">fields.regex</code></td>
<td><em>string</em></td>
<td>Regex used to validate the field</td>
</tr>
<tr>
<td><code class="prettyprint">fields.required</code></td>
<td><em>boolean</em></td>
<td>Is field required for the path</td>
</tr>
</tbody></table>

<h1 id="account">Account</h1>

<h2 id="login">Login</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "username": "test@test.com",
        "password": "1234"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/login"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cjkidhfqoihoufu18j0ncoy0jl7eu0d4ge1kslggp4outkh"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"create_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429863734</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expire_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429906934</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">,</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To login you can use username and password or social login. For each social network there are specific attributes.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;login&quot;</code></p>

<h3 id="username-and-password-login-request-parameters">Username and password login request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Username of the account to login</td>
</tr>
<tr>
<td><code class="prettyprint">password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Password of the account to login</td>
</tr>
</tbody></table>

<h3 id="facebook-login-request-parameters">Facebook login request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">social.oauth_id</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Obtained facebook user access token</td>
</tr>
<tr>
<td><code class="prettyprint">social.social_provider_id</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td>Social login provider id. Check <a href="#social-providers">social providers</a>.</td>
</tr>
</tbody></table>

<h3 id="auto-login-request-parameters">Auto login request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">auto_login_token</code><br><em>required</em></td>
<td><em>string</em></td>
<td>System generated token that logins automatically and creates new session.</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.return_user</code><br><em>optional, default <b>false</b></em></td>
<td><em>boolean</em></td>
<td>Return user object with expanded avatar, phones, addresses, payment details and last 10 bookings.</td>
</tr>
<tr>
<td><code class="prettyprint">query.keep_me_signed_in</code><br><em>optional, default <b>false</b></em></td>
<td><em>boolean</em></td>
<td>Create an infinite session.</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">session.sid</code></td>
<td><em>string</em></td>
<td>Your session id. Use for <code class="prettyprint">Authorization</code> header.</td>
</tr>
<tr>
<td><code class="prettyprint">session.create_time</code></td>
<td><em>integer</em></td>
<td>Session creation time in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">session.expire_time</code></td>
<td><em>integer</em></td>
<td>Session expiration time in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">user</code></td>
<td><em>object</em></td>
<td>Logged in user with expanded avatar, phones, addresses, payment details and last 10 bookings.</td>
</tr>
<tr>
<td><code class="prettyprint">register_details</code></td>
<td><em>object</em></td>
<td>If user doesn&rsquo;t exist account details may be returned to pre-fill a registration form. Field names and structure matches <a href="#register">register</a> parameters.</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#login-errors">Login errors</a></li>
</ul>

<h2 id="register">Register</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "title_id": 1,
        "first_name": "Nikolay",
        "last_name": "Georgiev",
        "phone": "+442071234567",
        "email": "test@test.com",
        "password": "1234",
        "referrer_code": "JOHND1234B",
        "birth_date_formatted": "1980-12-30",
        "social": {
          "oauth_id": "EAAEo0IpvAQcBAK1gy3VjCJPZCp6vidasdvEvEtxmO0gjFFjtz3jd8omEuhVhg3Y3ZAzIjSLQVMMZBaWwIZBRY9U8B7XZCFvGpledf38DPUTfeHNA2PCZALtPFTjXYFD1aPeB6IK4oo8dJWAIMAcpKPmFATTtXABljEA02jIDExTAp5brMUuNLMQlQr48ISRhbNy4hbKyI6plbO6ZCd1iHJ9kxd09PfpiwcZD",
          "social_provider_id": 1
        },
        "type_id": 1,
        "preferences": {
          "allow_mk_all": true,
          "allow_mk_push_notification": true,
          "allow_mk_sms": true,
          "allow_mk_email": true,
          "allow_mk_call": true,
          "allow_mk_letter": true
        }
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/register"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cjkidhfqoihoufu18j0ncoy0jl7eu0d4ge1kslggp4outkh"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"create_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429863734</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expire_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429906934</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2010</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful register"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To create account all required fields must be sent (except anonymous accounts which need only the right <code class="prettyprint">type_id</code>). For social sign in set the correct <code class="prettyprint">type_id</code> and fields in <code class="prettyprint">social</code> object (they vary for different social medias). Missing details from social sign in must be collected from user to satisfy required fields.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;register&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Selected title <code class="prettyprint">id</code> from <code class="prettyprint">user_titles</code></td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User&rsquo;s first name (no special characters allowed)</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User&rsquo;s last name (no special characters allowed)</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>User&rsquo;s phone number validated for the region (UK/AUS/USA etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User&rsquo;s email with validated structure (e.g. xxxx@xxx.xxx)</td>
</tr>
<tr>
<td><code class="prettyprint">birth_date_formatted</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Birth date in YYYY-dd-mm (e.g. 1980-12-30)</td>
</tr>
<tr>
<td><code class="prettyprint">referrer_code</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Referral code from another user</td>
</tr>
<tr>
<td><code class="prettyprint">social</code><br><em>optional</em></td>
<td><em><a href="#facebook-login-request-parameters">object</a></em></td>
<td>Social login attributes. Same are used for login (check <b>Facebook login request parameters</b>).</td>
</tr>
<tr>
<td><code class="prettyprint">type_id</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td>Type of registration id. Check <a href="#user">user</a>.<code class="prettyprint">type</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">preferences.allow_mk_all</code><br><em>optional</em></td>
<td><em>boolean</em></td>
<td>Sets all preferences to true.</td>
</tr>
<tr>
<td><code class="prettyprint">register_token</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Converts offline user to online.</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.return_user</code><br><em>optional, default <b>false</b></em></td>
<td><em>boolean</em></td>
<td>Return user object with expanded phones objects.</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">login</code></td>
<td><em><a href="#login">object</a></em></td>
<td>Object containing session information. Same is returned on login.</td>
</tr>
<tr>
<td><code class="prettyprint">user</code></td>
<td><em>object</em></td>
<td>Created user after registration</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#register-errors">Registration errors</a></li>
</ul>

<h2 id="logout">Logout</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/logout"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes user session.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;logout&quot;</code></p>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="request-reset-password-duplicate">Request reset password (duplicate)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "email": "test@test.com"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/request_reset_password"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Duplicate request available in <code class="prettyprint">unit</code> as well. Couldn&rsquo;t be moved in <code class="prettyprint">shared</code> section due to technical issues (new shared folder needed in XRM for this particular endpoint). Initiate sending an email with link for resetting password</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;request_reset_password&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Email address to which a link for reset password will be sent</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#request-reset-password-errors">Request reset password</a></li>
</ul>

<h2 id="reset-password-duplicate">Reset password (duplicate)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",
        "password": "jamie",
        "confirm_password": "jamie",
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/reset_password"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john_doe@test.test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Duplicate request available in <code class="prettyprint">unit</code> as well. Couldn&rsquo;t be moved in <code class="prettyprint">shared</code> section due to technical issues (new shared folder needed in XRM for this particular endpoint). Reset password of user.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;reset_password&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Token for resetting password received via email</td>
</tr>
<tr>
<td><code class="prettyprint">password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User new password</td>
</tr>
<tr>
<td><code class="prettyprint">confirm_password</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Password confirmation check</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code></td>
<td><em>string</em></td>
<td>Login email address of user who resetted their password</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#reset-password-errors">Reset password</a></li>
</ul>

<h2 id="read-user-details-on-password-reset">Read user details on password reset</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/reset_password_user_details?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get user name to greet him upon changing password.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;reset_password_user_details&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Token received via email for resetting password</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title of the user</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td><em>string</em></td>
<td>First name for user with reset password token</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td><em>string</em></td>
<td>Last name for user with reset password token</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#reset-password-user-details-errors">Reset password user details</a></li>
</ul>

<h2 id="change-password">Change password</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "old_password": "jamie",
        "new_password": "jamie1",
        "confirm_new_password": "jamie1"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/change_password"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Change password of user.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;change_password&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">old_password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Client current password of account</td>
</tr>
<tr>
<td><code class="prettyprint">new_password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Client new password</td>
</tr>
<tr>
<td><code class="prettyprint">confirm_new_password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Confirmation of client new password</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="register-token-infos">Register token infos</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/register_token_infos/id:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@test.test"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07123456789"</span><span class="w">
    </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get registration details for a token.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;register_token_infos&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td><em>string</em></td>
<td>First name for registrationuser with reset password token</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td><em>string</em></td>
<td>Last name for registration</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td><em>string</em></td>
<td>Email for registration</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td><em>string</em></td>
<td>Phone number for registration</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#register-token-infos-errors">Register token info errors</a></li>
</ul>

<h2 id="request-delete-account">Request delete account</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "password": "yourPasswordHere",
        "comment": "I don`t want to use your services anymore"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/request_delete_account"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Request account deletion.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;request_delete_account&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Account password</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Reason for requesting account deletion</td>
</tr>
</tbody></table>

<h2 id="cancel-membership">Cancel membership</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "cancel_membership_reason_id": 123,
        "comment": "Don`t need the membership anymore"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/cancel_membership"</span>
</code></pre>

<p>To cancel membership pick a &ldquo;<a href="#cancel-membership-reasons">cancel membership reasons</a>&rdquo; and pass it with a comment (if required for the reason)</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;cancel_membership&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cancel_membership_reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td><a href="#cancel-membership-reasons">Cancel membership reason</a> user selected from a list of reasons</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left by the client (if comment is required for the selected reason)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="service-data">Service data</h1>

<h2 id="categories">Categories</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/categories"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cleaning"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+442221123123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"short_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This service is very nice"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"clean"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"uk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"domestic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regular"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"list_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"thumbnail_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"infos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="mi">5</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">21</span><span class="p">,</span><span class="w">
        </span><span class="mi">36</span><span class="p">,</span><span class="w">
        </span><span class="mi">89</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"profile_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.fantasticservices.com/cleaning/one-off"</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="err">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Categories group services.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;categories&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Category title text</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td><em>string</em></td>
<td>Category phone number</td>
</tr>
<tr>
<td><code class="prettyprint">short_description</code></td>
<td><em>string</em></td>
<td>Category short description text</td>
</tr>
<tr>
<td><code class="prettyprint">keywords</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>List of keywords for category</td>
</tr>
<tr>
<td><code class="prettyprint">list_image_url</code></td>
<td><em>string</em></td>
<td>Link to list image</td>
</tr>
<tr>
<td><code class="prettyprint">thumbnail_image_url</code></td>
<td><em>string</em></td>
<td>Link to thumbnail image. Used for search results in spotlight or in app service search.</td>
</tr>
<tr>
<td><code class="prettyprint">infos</code></td>
<td><em>array&lt;info&gt;</em></td>
<td>List of infos for the category</td>
</tr>
<tr>
<td><code class="prettyprint">services</code></td>
<td><em>array&lt;<a href="#services">service</a>&gt;</em></td>
<td>List of services for the category</td>
</tr>
<tr>
<td><code class="prettyprint">profile_config</code></td>
<td><em>object</em></td>
<td>Key-value pairs of custom attributes with different values for each Profile</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.covering_postcode</code></td>
<td><em>string</em></td>
<td><em>null</em></td>
<td>Filters response to return only services that cover the postcode</td>
</tr>
</tbody></table>

<h2 id="services">Services</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/services"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic Cleaning"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+44222233333"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic Cleaning is very nice."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"short_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic Cleaning service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"domestic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fantastic"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"list_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"booking_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"inactive_booking_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"info_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"thumbnail_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.image.com/1jsklfas.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"infos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="mi">6</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">78</span><span class="p">,</span><span class="w">
        </span><span class="mi">90</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"customize"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tooltip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Click here"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"search_keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"fantastic\", \"cleaning\"]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"logic_js"</span><span class="p">:</span><span class="w"> </span><span class="s2">"function getRequiredActionForState(items) { if (items[0].choice_item_id == \"1092\" &amp;&amp; items[0].choice_item_value == 2) { return { \"action\": \"service_redirect\", \"redirect_message_title\": \"This is more like EOT. Wanna go?\", \"redirect_message\": \"This is more like EOT. Wanna go?\", \"OK_title\": \"Go there\", \"cancel_title\": \"Not really\", \"service_id\": 23 }; } else { return null; } }"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"profile_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.fantasticservices.com/cleaning/one-off"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Services</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;services&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>integer</em></td>
<td><em><b>1</b> - Service</em><br><em><b>2</b> - Deal</em></td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Service title text</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td><em>string</em></td>
<td>Service phone number</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Service detailed description text</td>
</tr>
<tr>
<td><code class="prettyprint">short_description</code></td>
<td><em>string</em></td>
<td>Service short description text</td>
</tr>
<tr>
<td><code class="prettyprint">keywords</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>List of keywords for service</td>
</tr>
<tr>
<td><code class="prettyprint">list_image_url</code></td>
<td><em>string</em></td>
<td>Link to list image. Used to show a list of services. Could be square or rectangle based on layout.</td>
</tr>
<tr>
<td><code class="prettyprint">info_image_url</code></td>
<td><em>string</em></td>
<td>Link to info image. Used in web sites in side panel above the info text section/</td>
</tr>
<tr>
<td><code class="prettyprint">booking_image_url</code></td>
<td><em>string</em></td>
<td>Link to booking image. Used in booking cards for upcoming appointments.</td>
</tr>
<tr>
<td><code class="prettyprint">inactive_booking_image_url</code></td>
<td><em>string</em></td>
<td>Link to inactive booking image. Used in booking cards for past appointments.</td>
</tr>
<tr>
<td><code class="prettyprint">thumbnail_image_url</code></td>
<td><em>string</em></td>
<td>Link to thumbnail image. Used for search results in spotlight or in app service search.</td>
</tr>
<tr>
<td><code class="prettyprint">infos</code></td>
<td><em>array&lt;info&gt;</em></td>
<td>List of infos for the services</td>
</tr>
<tr>
<td><code class="prettyprint">choices</code></td>
<td><em>array&lt;<a href="#choices">choice</a>&gt;</em></td>
<td>List of questions to book the service</td>
</tr>
<tr>
<td><code class="prettyprint">payment_methods</code></td>
<td><em>array&lt;<a href="#payment-methods">payment_method</a>&gt;</em></td>
<td>List of available payment methods for the service</td>
</tr>
<tr>
<td><code class="prettyprint">customize</code></td>
<td><em>object</em></td>
<td>Key-value pairs of custom attributes</td>
</tr>
<tr>
<td><code class="prettyprint">customize.search_keywords</code></td>
<td><em>string</em></td>
<td>Represents array of search keywords for the service</td>
</tr>
<tr>
<td><code class="prettyprint">customize.logic_js</code></td>
<td><em>string</em></td>
<td>JavaScript containing functions for modification of booking process</td>
</tr>
<tr>
<td><code class="prettyprint">profile_config</code></td>
<td><em>object</em></td>
<td>Key-value pairs of custom attributes with different values for each Profile</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.visible</code></td>
<td><em>boolean</em></td>
<td><em>[true, false]</em></td>
<td>Filters services by <code class="prettyprint">visible</code> flag. If no filter is passed all services are returned.</td>
</tr>
</tbody></table>

<h2 id="choices">Choices</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/choices"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">338</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"init"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross_sell"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"submit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"when_last"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"have the tradesmen left the property?"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"summary_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tradesman _left"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choice_items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">24</span><span class="p">,</span><span class="w">
        </span><span class="mi">54</span><span class="p">,</span><span class="w">
        </span><span class="mi">94</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"customize"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"More info here..."</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Questions the user needs to answer to book a service.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;choices&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">positions</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>Determines where the choice should be dislpayed in the booking process:<br/><em><b>init</b> - begining of booking process. Minimum requirement to create a <a href="#booking-transactions">booking_transaction</a></em><br><em><b>configurator</b> - choices describing service configuration</em><br><em><b>before_availability</b> - before showing timeslots</em><br><em><b>on_availability</b> - on showing timeslots</em><br><em><b>after_availability</b> - choices after slots</em><br><em><b>before_summary</b> - middle screen before showing the booking summary (may be on booking summary on different UI)</em><br><em><b>on_summary</b> - choices at the summary screen (e.g. cross sell)</em><br><em><b>before_confirmation</b> - before user confirms the booking (e.g. last minute upsells)</em></td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td>Determines how the choice and choce items are dislpayed<br/><em><b>default</b> - displays choice items based on type</em><br><em><b>price_options</b> - variants of the price (e.g. with membership)</em><br><em><b>timeslot_options</b> - additional preferences for the slot (e.g. same unit)</em><br><em><b>cross_sell</b> - displays choice items based on type and uses display_price</em><br><em><b>multiselect</b> - choice with a lot of choice items that has to be displayed with a search field</em><br><em><b>pick_unit</b> - choice with options to pick a professional or team of proffesionals for the job</em></td>
</tr>
<tr>
<td><code class="prettyprint">submit</code></td>
<td><em>string</em></td>
<td>When choice data should be posted<br/><em><b>when_last</b> - if last element on a position</em><br><em><b>on_change</b> - on value change of <a href="#choice-item">choice_item</a></em><br><em><b>on_completion</b> - when completed by client (tapped Proceed/Next)</em></td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Question text</td>
</tr>
<tr>
<td><code class="prettyprint">summary_title</code></td>
<td><em>string</em></td>
<td>Question short title text in summary</td>
</tr>
<tr>
<td><code class="prettyprint">required</code></td>
<td><em>boolean</em></td>
<td>Should the question be answered to book</td>
</tr>
<tr>
<td><code class="prettyprint">choice_items</code></td>
<td><em>array&lt;<a href="#choice-items">choice_item</a>&gt;</em></td>
<td>List of answers for the question</td>
</tr>
<tr>
<td><code class="prettyprint">customize</code></td>
<td><em>object</em></td>
<td>Key-value pairs of custom attributes</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.position</code></td>
<td><em>string</em></td>
<td><em>configurator</em></td>
<td>Filters choices by <code class="prettyprint">position</code>. If no filter is passed only <code class="prettyprint">configurator</code> choices are returned. To filter choices by more than one position pass an array of positions e.g. <code class="prettyprint">[&quot;configurator&quot;, &quot;init&quot;]</code></td>
</tr>
</tbody></table>

<h2 id="choice-items">Choice items</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/choice_items"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1110</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"min_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"summary_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_in_summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 bedroom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+£5"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"same_unit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"member_price"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"choice_items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url/here.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"infos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="mi">5</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"customize"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"step"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"initial_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"days_offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obfTooltipDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Professional carpet cleaning at an extra charge. Please specify below the number of carpets."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obfTextAreaPlaceholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enter your postcode..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirect_related_choice_item_ids"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[1, 2]"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attachment_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"document"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"front_camera"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rear_camera"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"supplementary_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"address.address_line_1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"favorite"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"total_ratings"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Answers to the questions the user needs to answer to book a service.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;choice_items&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Object id</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">parent_id</code></td>
<td><em>integer</em></td>
<td>Parent answer (if answer is sub-answer)</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td><em><b>checkbox</b> - Checkbox</em><br><em><b>radio</b> - Radio button</em><br><em><b>stepper</b> - Stepper (incremental value)</em><br><em><b>text_field</b> - Text field</em><br><em><b>hours</b> - Hours (total hours for current booking configuration)</em><br><em><b>distance</b> - Distance</em><br><em><b>always_apply</b> - Always Apply</em><br><em><b>price_per_hour</b> - Price per hour</em><br><em><b>decimal_text</b> - Decimal Text</em><br><em><b>attachment</b> - File attachment. Accepts object with <code class="prettyprint">url</code>, <code class="prettyprint">token</code>, <code class="prettyprint">thumbnail_url</code>, <code class="prettyprint">mime_type</code> and <code class="prettyprint">file_name</code>.</em><br><em><b>dropdown</b> - Dropdown</em><br><em><b>address</b> - Address. Accepts <a href="#addresses">address</a> object.</em></td>
</tr>
<tr>
<td><code class="prettyprint">max_value</code></td>
<td><em>integer</em></td>
<td>Maximum value of answer</td>
</tr>
<tr>
<td><code class="prettyprint">min_value</code></td>
<td><em>integer</em></td>
<td>Minimum value of answer</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td><em>integer<br>or double<br>or string<br>or array&lt;string&gt;<br>or object<br>or array&lt;object&gt;</em></td>
<td>Default value of answer.</td>
</tr>
<tr>
<td><code class="prettyprint">duration</code></td>
<td><em>integer</em></td>
<td>Minutes added to booking estimated time from the answer</td>
</tr>
<tr>
<td><code class="prettyprint">required</code></td>
<td><em>boolean</em></td>
<td>Determines whether choice item requires child to be selected</td>
</tr>
<tr>
<td><code class="prettyprint">summary_title</code></td>
<td><em>string</em></td>
<td>Answer short title text in summary</td>
</tr>
<tr>
<td><code class="prettyprint">is_in_summary</code></td>
<td><em>boolean</em></td>
<td>Should the answer be included in the summary of booking</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title of answer</td>
</tr>
<tr>
<td><code class="prettyprint">display_price</code></td>
<td><em>string</em></td>
<td>Details on the price for displaying.</td>
</tr>
<tr>
<td><code class="prettyprint">tags</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>List of tags allowing functionalities as filtering. Available tags:<br/><em><b>regular_price</b> - standard price</em><br><em><b>member_price</b> - price for members</em><br><em><b>same_unit</b> - same professional will do the service</em><br><em><b>fully_booked</b> - all Pros are booked for this item</em><br><em><b>members_only</b> - item available only for members</em><br><em><b>discounted</b> - item is discounted</em><br><em><b>carbon</b> - item is with reduced carbon footprint</em><br><em><b>best_price</b> - item is with the lowest price (e.g. cheapest timeslot for a given day)</em></td>
</tr>
<tr>
<td><code class="prettyprint">choice_items</code></td>
<td><em>array&lt;<a href="#choice-items">choice_item</a>&gt;</em></td>
<td>List of sub-answers for the answers</td>
</tr>
<tr>
<td><code class="prettyprint">image_url</code></td>
<td><em>string</em></td>
<td>List image for choice item</td>
</tr>
<tr>
<td><code class="prettyprint">infos</code></td>
<td><em>array&lt;<a href="#infos">info</a>&gt;</em></td>
<td>List of infos for the choice item</td>
</tr>
<tr>
<td><code class="prettyprint">customize</code></td>
<td><em>object</em></td>
<td>Key-value pairs of custom attributes</td>
</tr>
<tr>
<td><code class="prettyprint">customize.step</code></td>
<td><em>double</em></td>
<td>Quantity steppers step for changing their value</td>
</tr>
<tr>
<td><code class="prettyprint">customize.initial_value</code></td>
<td><em>string</em></td>
<td>Quantity steppers initial value when added from multiselect search list.</td>
</tr>
<tr>
<td><code class="prettyprint">customize.display_type</code></td>
<td><em>string</em></td>
<td>A specific way of displaying the choice item:<br/><em><b>date</b> - string from date picker</em></td>
</tr>
<tr>
<td><code class="prettyprint">customize.days_offset</code></td>
<td><em>integer</em></td>
<td>Date picker first available date configuration. Value is in days e.g. 3 means date picker allow selecting dates after 3 days onwards.</td>
</tr>
<tr>
<td><code class="prettyprint">customize.obfTooltipDesc</code></td>
<td><em>string</em></td>
<td>Details for the choice item</td>
</tr>
<tr>
<td><code class="prettyprint">customize.obfTextAreaPlaceholder</code></td>
<td><em>string</em></td>
<td>Text field placeholder text</td>
</tr>
<tr>
<td><code class="prettyprint">customize.redirect_related_choice_item_ids</code></td>
<td><em>string</em></td>
<td>A string representing an array of choice item ids to pre-fill value from</td>
</tr>
<tr>
<td><code class="prettyprint">customize.attachment_type</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>An array with allowed attachment types:<br/> <em><b>image</b> - Image in jpg, jpeg and png formats</em><br/>  <em><b>video</b> - Video in wmv, mov, mp4 and avi formats</em><br/>  <em><b>document</b> - Document  in pdf format</em></td>
</tr>
<tr>
<td><code class="prettyprint">customize.source</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>An array with sources from where the attachment will be re retreived:<br/> <em><b>front_camera</b> - Front camera (if not available rear camera used)</em><br/>  <em><b>rear_camera</b> - Rear camera (if not available front camera used)</em><br/><em><b>local_storage</b> - File system (camera roll, gallery, sd card etc.)</em></td>
</tr>
<tr>
<td><code class="prettyprint">customize.supplementary_field</code></td>
<td><em>string</em></td>
<td>Computed value. The <code class="prettyprint">value</code> of this choice item will update an object. e.g. <code class="prettyprint">address.address_line_1</code> means the <code class="prettyprint">choice_item.value</code> will be set to <code class="prettyprint">address_line_1</code> of an <code class="prettyprint">address</code> object by the server.</td>
</tr>
<tr>
<td><code class="prettyprint">payload.gender</code></td>
<td><em>string</em></td>
<td>Unit gender:<br/> <em><b>male</b><br/></em><em><b>female</b></em></td>
</tr>
<tr>
<td><code class="prettyprint">payload.favorite</code></td>
<td><em>boolean</em></td>
<td>Unit is favorite. If not present in response hide the favorite option.</td>
</tr>
</tbody></table>

<h2 id="units">Units</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/units"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"favorite"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_ratings"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_bookings"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nt">"experience"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 years"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ratings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very friendly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bg"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"certificate"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plumber Plus"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://document.url"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"short_bio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I am a highschool graduate with enthusiasm for work."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Details for a Pro.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;units&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Object id</td>
</tr>
<tr>
<td><code class="prettyprint">favorite</code></td>
<td><em>boolean</em></td>
<td>Unit is favorite. If not present in response hide the favorite option.</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.transaction_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#booking-transactions">Booking transaction</a> identifier to filter pros available for booking</td>
</tr>
<tr>
<td><code class="prettyprint">query.booking_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#bookings">Booking</a> identifier to filter pros available for reschedule</td>
</tr>
</tbody></table>

<h3 id="actions"><code class="prettyprint">actions</code></h3>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_favorite</code></td>
<td>Add unit as a favorites</td>
</tr>
<tr>
<td><code class="prettyprint">remove_favorite</code></td>
<td>Remove unit from favorites</td>
</tr>
</tbody></table>

<h2 id="teams">Teams</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/teams"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John's people"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"favorite"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_ratings"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_bookings"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nt">"experience"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 years"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ratings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very friendly"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bg"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"certificate"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plumber Plus"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://document.url"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="mi">3</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Details for a Team.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;teams&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Object id</td>
</tr>
<tr>
<td><code class="prettyprint">favorite</code></td>
<td><em>boolean</em></td>
<td>Team is favorite. If not present in response hide the favorite option.</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.transaction_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#booking-transactions">Booking transaction</a> identifier to filter teams available for booking</td>
</tr>
<tr>
<td><code class="prettyprint">query.booking_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#bookings">Booking</a> identifier to filter teams available for reschedule</td>
</tr>
</tbody></table>

<h3 id="actions"><code class="prettyprint">actions</code></h3>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_favorite</code></td>
<td>Add team as a favorites</td>
</tr>
<tr>
<td><code class="prettyprint">remove_favorite</code></td>
<td>Remove team from favorites</td>
</tr>
</tbody></table>

<h2 id="infos">Infos</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/infos"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">487</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"About the service:"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1744</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Game Console &amp; Drone Evaluation service is provided by one of our Trusted Partners. Basically, send your device using the post to one of their labs and a skilled technician will take a look at it and then we'll tell you about what repairs are needed."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Information for categories and services.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;infos&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Info title text</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">contents</code></td>
<td><em>array&lt;<a href="#info-contents">info_content</a>&gt;</em></td>
<td>List of info contents</td>
</tr>
</tbody></table>

<h2 id="info-contents">Info contents</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/info_contents"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">487</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"About the service:"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1744</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Game Console &amp; Drone Evaluation service is provided by one of our Trusted Partners. Basically, send your device using the post to one of their labs and a skilled technician will take a look at it and then we'll tell you about what repairs are needed."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Information contents for categories and services.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;info_contents&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">text</code></td>
<td><em>string</em></td>
<td>Text content</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="payment-methods">Payment methods</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/services/2/payment_methods"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_provider_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"security_requirements"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"icon_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url/here.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apple Pay"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Braintree"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_provider_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apple_pay"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"security_requirements"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="s2">"cvc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"three_d_security_two"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"braintree_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rRnvEsbDVxbwdtw1BhjntKeYyvn6b96U"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"braintree_merchant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hdalsdflkjdfhksdjhfskadjfhldsjh"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"icon_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url/here.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayPal"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_provider_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"security_requirements"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"paypal_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RIx0XeujMAlS8ep3byaN07yImJrYa5M6"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"icon_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url/here.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Available payment methods for service</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;services/{{service_id}}/payment_methods&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Display name of payment method</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td><em><b>None</b> - No processing needed (e.g. Cash payment)</em><br><em><b>Stripe</b> - Card payment via Stripe</em><br><em><b>Braintree</b> - Card payment via Braintree</em><br><em><b>PayPal</b> - PayPal via Braintree</em><br><em><b>Checkoutcom</b> - Card payment via Checkout</em></td>
</tr>
<tr>
<td><code class="prettyprint">payment_provider_id (deprecated)</code></td>
<td><em>integer</em></td>
<td>Identifier for the the account used for the payment method (e.g. Stripe UK, Stripe AUS etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">vendor</code></td>
<td><em>string</em></td>
<td>Vendor for providing payment details:<br/><em><b>apple_pay</b> - Apple Pay</em></td>
</tr>
<tr>
<td><code class="prettyprint">security_requirements</code></td>
<td><em>array&lt;string&gt;</em></td>
<td><em><b>three_d_security_two</b> - 3D Security 2.0 required to use this payment method</em></td>
</tr>
<tr>
<td><code class="prettyprint">data</code><br><em>optional</em></td>
<td><em>object</em></td>
<td>Based on the payment provider different data may be provided (such as keys, tokens etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">data.stripe_key</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Stripe API authorization key</td>
</tr>
<tr>
<td><code class="prettyprint">data.paypal_key</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>PayPal Braintree authorization key</td>
</tr>
<tr>
<td><code class="prettyprint">data.braintree_key</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Braintree API authorization key</td>
</tr>
<tr>
<td><code class="prettyprint">data.braintree_merchant_id</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Braintree API merchant id used for setting up data collector to get <code class="prettyprint">paymethod.data.device_data</code></td>
</tr>
<tr>
<td><code class="prettyprint">data.checkout_key</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Stripe API authorization key</td>
</tr>
<tr>
<td><code class="prettyprint">icon_image_url</code></td>
<td><em>string</em></td>
<td>Icon image for payment method</td>
</tr>
<tr>
<td><code class="prettyprint">default</code></td>
<td><em>boolean</em></td>
<td>Is this payment method the default</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="treats">Treats</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/treats"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free pickup on your next &lt;b&gt;Quickup&lt;/b&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Save some precious time with &lt;/b&gt;Quickup&lt;/b&gt;. They shop, pickup and drop everything you need."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"* Partners T&amp;C applies."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/qYvi51mYq98Bvj1wk94RQSCNAuOvY4GXhEjqMdNRAFKYpckaFnTipz8YwJyT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.google.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Treats are affiliate deals. They are shown in a list. Tapping on one opens a link in a browser.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;treats&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Treat title text.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Treat detailed description text.</td>
</tr>
<tr>
<td><code class="prettyprint">note</code></td>
<td><em>string</em></td>
<td>Small additional description text.</td>
</tr>
<tr>
<td><code class="prettyprint">image</code></td>
<td><em>integer</em></td>
<td>Treat image object id. If expanded image full object is returned.</td>
</tr>
<tr>
<td><code class="prettyprint">image_url</code></td>
<td><em>string</em></td>
<td>Treat image direct link.</td>
</tr>
<tr>
<td><code class="prettyprint">link</code></td>
<td><em>string</em></td>
<td>Link to treat website.</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="topics">Topics</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/topics"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Best app ever"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/qYvi51mYq98Bvj1wk94RQSCNAuOvY4GXhEjqMdNRAFKYpckaFnTipz8YwJyT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Topics used at startup of app to show benefits.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;topics&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Topic title text</td>
</tr>
<tr>
<td><code class="prettyprint">image_url</code></td>
<td><em>string</em></td>
<td>Topic image direct link</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="reschedule-reasons">Reschedule reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/reschedule_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro delay"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client personal reasons"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to reschedule from a list of reschedule reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;reschedule_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Reschedule reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to reschedule with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="cancellation-terms">Cancellation terms</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/cancellation_terms"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You will be charged £10 on cancellation."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"policy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Check your cancellation policy"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.cancel.policy"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Terms on which a booking can be cancelled.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/cancellation_terms&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Text describing in short what the cancellation terms will be</td>
</tr>
<tr>
<td><code class="prettyprint">policy.title</code></td>
<td><em>string</em></td>
<td>Title of link to cancellation policy</td>
</tr>
<tr>
<td><code class="prettyprint">policy.title</code></td>
<td><em>string</em></td>
<td>Link to cancellation policy</td>
</tr>
</tbody></table>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="cancel-reasons">Cancel reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/cancel_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I don't need the service anymore"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I found a better price"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to cancel from a list of cancel reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;cancel_reasons&quot;</code>
<br/>
<code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/cancel_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Reschedule reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to cancel with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.booking_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#bookings">Booking</a> identifier to filter reasons by service</td>
</tr>
</tbody></table>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="edit-booking-reasons">Edit booking reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/edit_booking_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro delay"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client personal reasons"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to edit a booking from a list of edit reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;edit_booking_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Edit reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to edit booking with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="edit-regular-plan-reasons">Edit regular plan reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/edit_regular_plan_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro delay"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client personal reasons"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to edit a regular plan from a list of edit reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;edit_regular_plan_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Edit reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to edit regular plan with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="cancel-membership-reasons">Cancel membership reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/cancel_membership_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I don't need the membership anymore"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I am not happy with the discount"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to cancel membership from a list of cancel reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;cancel_membership_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Reschedule reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to cancel membership with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h1 id="clients">Clients</h1>

<h2 id="user">User</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/user"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"birth_date_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1980-12-30"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@mail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"social_provider"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"social_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@johndoe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mf">55.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"credit_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£55.5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnd1234b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
    </span><span class="nt">"membership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"valid_from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
      </span><span class="nt">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_cancel_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_refund_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expiration_reminder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1433489660</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cancellation_requested"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_renew_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_profile_keyword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UnitedKingdomGF"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"delete_account_requested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upcoming_bookings_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"preferences_submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_all"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_push_notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_sms"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_call"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_letter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"paymethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"user_applications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>User contains client details</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Client first name</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Client first name</td>
</tr>
<tr>
<td><code class="prettyprint">birth_date_formatted</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Birth date in YYYY-dd-mm (e.g. 1980-12-30)</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td><em>string</em></td>
<td>Client email used for login</td>
</tr>
<tr>
<td><code class="prettyprint">social_provider</code></td>
<td><em><a href="#social-providers">object</a></em></td>
<td>Social provider client used to register.</td>
</tr>
<tr>
<td><code class="prettyprint">type_id</code></td>
<td><em>integer</em></td>
<td><em><b>1</b> - Anonymous</em><br><em><b>2</b> - Generic (register form)</em><br><em><b>3</b> - Social (Facebook)</em><br><em><b>4</b> - Offline</em></td>
</tr>
<tr>
<td><code class="prettyprint">social_key</code></td>
<td><em>string</em></td>
<td>Social identifier used on registration (e.g. @joe for Twitter or 23253414234 for Facebook)</td>
</tr>
<tr>
<td><code class="prettyprint">credit</code></td>
<td><em>double</em></td>
<td>Client credit amount in the region</td>
</tr>
<tr>
<td><code class="prettyprint">credit_formatted</code></td>
<td><em>string</em></td>
<td>Client credit amount formatted in the region currency</td>
</tr>
<tr>
<td><code class="prettyprint">referral_code</code></td>
<td><em>string</em></td>
<td>Referral code to send to other clients</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Client regisgration UTC timestamp.</td>
</tr>
<tr>
<td><code class="prettyprint">membership</code></td>
<td><em><a href="#membership">object</a></em></td>
<td>Current purchased membership</td>
</tr>
<tr>
<td><code class="prettyprint">avatar</code><br><em>editable</em></td>
<td><em><a href="#avatar">object</a></em></td>
<td>Client avatar image</td>
</tr>
<tr>
<td><code class="prettyprint">last_profile_keyword</code></td>
<td><em>string</em></td>
<td>Keyword of last chosen profile for the client</td>
</tr>
<tr>
<td><code class="prettyprint">delete_account_requested</code><br><em>read-only</em></td>
<td><em>boolean</em></td>
<td>True if user requested account deletion</td>
</tr>
<tr>
<td><code class="prettyprint">preferences</code></td>
<td><em>object</em></td>
<td>Flags with user preferences for marketing</td>
</tr>
<tr>
<td><code class="prettyprint">preferences.preferences_submitted</code><br><em>read-only</em></td>
<td><em>boolean</em></td>
<td>True if user has set their initial preferences</td>
</tr>
<tr>
<td><code class="prettyprint">preferences.allow_mk_all</code><br><em>write-only</em></td>
<td><em>boolean</em></td>
<td>When set all preferences are set to true (except preferences_submitted)</td>
</tr>
<tr>
<td><code class="prettyprint">preferences.allow_mk_push_notification</code><br><em>deprecated</em></td>
<td><em>boolean</em></td>
<td>When true client will receive pushes for deals and offers. This preference is deprecated and is now in <a href="#user-applications">user application</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">addresses</code><br><em>editable</em></td>
<td><em>array&lt;<a href="#addresses">address</a>&gt;</em></td>
<td>Client addresses</td>
</tr>
<tr>
<td><code class="prettyprint">phones</code><br><em>editable</em></td>
<td><em>array&lt;<a href="#phones">phone</a>&gt;</em></td>
<td>Client phones</td>
</tr>
<tr>
<td><code class="prettyprint">paymethods</code><br><em>editable</em></td>
<td><em>array&lt;<a href="#paymethods">paymethod</a>&gt;</em></td>
<td>Client payment methods</td>
</tr>
<tr>
<td><code class="prettyprint">user_applications</code><br><em>editable</em></td>
<td><em>array&lt;<a href="#user-applications">user_application</a>&gt;</em></td>
<td>Platforms the client used the system on</td>
</tr>
<tr>
<td><code class="prettyprint">bookings</code></td>
<td><em>array&lt;<a href="#bookings">booking</a>&gt;</em></td>
<td>Client bookings</td>
</tr>
</tbody></table>

<h2 id="addresses">Addresses</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/user/addresses"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line_one"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24 Red Lion Street"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_line_two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brooklands"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Kingdom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I have and alarm"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Addresses of the client</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user/addresses&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier of the address</td>
</tr>
<tr>
<td><code class="prettyprint">address_line_one</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Street name and number</td>
</tr>
<tr>
<td><code class="prettyprint">address_line_two</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Flat, House number etc.</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Post code of the address</td>
</tr>
<tr>
<td><code class="prettyprint">city</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>City of the address</td>
</tr>
<tr>
<td><code class="prettyprint">country</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Country of the address</td>
</tr>
<tr>
<td><code class="prettyprint">default</code><br><em>editable</em></td>
<td><em>boolean</em></td>
<td>Client preference for default address</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order in list</td>
</tr>
</tbody></table>

<h2 id="phones">Phones</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/user/phones"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4423213213"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Phoned of the client</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user/phones&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier of the phone</td>
</tr>
<tr>
<td><code class="prettyprint">value</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Phone number</td>
</tr>
<tr>
<td><code class="prettyprint">default</code><br><em>editable</em></td>
<td><em>boolean</em></td>
<td>Client preference for default contact phone</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order in list</td>
</tr>
</tbody></table>

<h2 id="paymethods">Paymethods</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/user/paymethods"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Business card"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"**** **** **** 1234"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stripe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_method_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"available_for_payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"231231jsklfhaksj231§2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"device_data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shdyjtyruhdfgfsdgfdsgdsf"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last_four_digit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3344"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expiration_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expiration_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Paymethods for a client</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user/paymethods&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">description</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>User description for the paymethod</td>
</tr>
<tr>
<td><code class="prettyprint">label</code></td>
<td><em>string</em></td>
<td>Generated description for the paymethod</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td>Type of paymethod. Check <a href="#payment-methods">payment_method</a>.<code class="prettyprint">type</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">payment_method_id</code></td>
<td><em>integer</em></td>
<td><a href="#payment-methods">Payment_method</a> identifier used to create paymethod.</td>
</tr>
<tr>
<td><code class="prettyprint">available_for_payment_methods</code></td>
<td><em>array&lt;<a href="#payment-methods">payment_method</a>&gt;</em></td>
<td>Array of <a href="#payment-methods">payment_method</a> id&rsquo;s that this paymethod can be used with</td>
</tr>
<tr>
<td><code class="prettyprint">default</code><br><em>editable</em></td>
<td><em>boolean</em></td>
<td>Client preference for default paymethod</td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td><em>object</em></td>
<td>Custom data of paymethod.</td>
</tr>
<tr>
<td><code class="prettyprint">data.token</code></td>
<td><em>string</em></td>
<td>Token from Stripe/PayPal for paymethod creation or result of 3D Security</td>
</tr>
<tr>
<td><code class="prettyprint">data.device_data</code></td>
<td><em>string</em></td>
<td>Token from PayPal anti-fraud system</td>
</tr>
<tr>
<td><code class="prettyprint">data.brand</code></td>
<td><em>string</em></td>
<td>Brand for the paymethod (e.g. VISA, MasterCard etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">data.last_four_digit</code></td>
<td><em>string</em></td>
<td>Last 4 digits of a credit card</td>
</tr>
<tr>
<td><code class="prettyprint">data.expiration_month</code></td>
<td><em>string</em></td>
<td>Expriation month of credit card</td>
</tr>
<tr>
<td><code class="prettyprint">data.expiration_year</code></td>
<td><em>string</em></td>
<td>Expriation year of credit card</td>
</tr>
<tr>
<td><code class="prettyprint">active (pending)</code></td>
<td><em>boolean</em></td>
<td>Can card be used for payments. Card can be inactive e.g. if it needs 3D Security 2.0 to be applied.</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order in list</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.type</code></td>
<td><em>string</em></td>
<td><em>Stripe</em></td>
<td>Filters paymethods by <code class="prettyprint">type</code>. If no filter is passed <code class="prettyprint">Stripe</code> paymethods are returned. To filter paymethods by more than one type pass an array of types e.g. <code class="prettyprint">[&quot;Stripe&quot;, &quot;PayPal&quot;]</code></td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#payment-errors">Payment errors</a></li>
</ul>

<h2 id="check-security-requirements">Check security requirements</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "paymethod": {
          "payment_method_id": 2,
          "data": {
            "token": "kjkadshfjkhSAKJHkljHASKJLHKJfdasf"
          }
        }
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/check_security_requirements"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"security_requirements"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cvc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"three_d_security_two"</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Checks security requirements for a paymethod to be created.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;check_security_requirements&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">security_requirements</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>Security steps which needs to be applied to the paymethod (check <a href="payment-methods">payment_method</a><code class="prettyprint">.security_requirements</code>)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#payment-errors">Payment errors</a></li>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="referral-stats">Referral stats</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/referral_stats"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"successful_shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"successful_referrals"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nt">"credits_earned_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"credits_spent_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Statistics on referral.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;referral_stats&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">successful_shares</code></td>
<td><em>integer</em></td>
<td>Registered users with client&rsquo;s referral code</td>
</tr>
<tr>
<td><code class="prettyprint">successful_referrals</code></td>
<td><em>integer</em></td>
<td>Registered users with client&rsquo;s referral code who has a finished booking</td>
</tr>
<tr>
<td><code class="prettyprint">credits_earned_formatted</code></td>
<td><em>integer</em></td>
<td>Credits earned from referral</td>
</tr>
<tr>
<td><code class="prettyprint">credits_spent_formatted</code></td>
<td><em>integer</em></td>
<td>Credits spent</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="bookings">Bookings</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"copied_booking_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reference_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1042MB"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeslot"</span><span class="p">:</span><span class="w"> </span><span class="mi">1525343435</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeslot_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24 10:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_price"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maximum price reached"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">125.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="mi">2</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"price_breakdown"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Membership price"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£49"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yearly fee payed once upon booking"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"membership"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service price"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£80"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service_price"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Voucher discount"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-£5"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reached minimum for service"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voucher"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit used"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£25"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All available credit is used for this booking"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total:"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£99"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All available credit is used for this booking"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"total"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@test.test"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"work_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_method_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_method_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash will be collected after completing the service on site."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"paymethod"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"voucher"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO10OFF"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"feedback_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Great service"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="mi">5</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"unit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"total_ratings"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"team"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">137</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John's people"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"total_ratings"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://image.url"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"online_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07123456789"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"domain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fantasticcleaners.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"service"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_reschedule_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459953968</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_edit_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459953968</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_cancel_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459953968</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_rebook_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459953968</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH, Red Lion Street 24"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">15433454354</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i have a big dog"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"client_attached_files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url.jpg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_ft5_cfq_o7_t2_r_iq_ywj_h_wq3s_vrp_r_r7f9_yyy85_p8a_pgc_m_y_c5ywke1f_v_pe_btfeys_p"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://image.url.jpg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_ft5_cfq_o7_t2_r_iq_ywj_h_wq3s_vrp_r_r7f9_yyy85_p8a_pgc_m_y_c5ywke1f_v_pe_btfeys_p"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_invoice _s_t_l9099"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"num"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_s_t_l9099"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"date_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01.01.2018"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://doc.url"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/pdf"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_credit note _i_n_v-_s_t_l0316"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"num"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_c_n-_s_t_l0316"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://doc.url"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/pdf"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_proform _p9099"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"num"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_p9099"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://doc.url"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/pdf"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"service_summary"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_one-off"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"service"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 _bedroom"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_hoover and mop floor"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_dust tops, lampshades, pictures"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_clean and wipe skirting board"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Upcoming bookings for a client in ascending order based on appointment time.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>string</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">copied_booking_id</code></td>
<td><em>string</em></td>
<td>Unique identifier of booking from which this was created</td>
</tr>
<tr>
<td><code class="prettyprint">reference_number</code></td>
<td><em>string</em></td>
<td>Unique identifier for processed booking</td>
</tr>
<tr>
<td><code class="prettyprint">timeslot</code><br><em>editable</em></td>
<td><em>integer</em></td>
<td>Appointment time in UTC time zone</td>
</tr>
<tr>
<td><code class="prettyprint">timeslot_formatted</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Appointment time in local time zone</td>
</tr>
<tr>
<td><code class="prettyprint">email</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Client email collected during booking process</td>
</tr>
<tr>
<td><code class="prettyprint">phones</code><br><em>editable</em></td>
<td><em>array&lt;<a href="#phones">phones</a>&gt;</em></td>
<td>Client phones collected during booking process</td>
</tr>
<tr>
<td><code class="prettyprint">price</code></td>
<td><em><a href="#price">object</a></em></td>
<td>Selected price breakdown</td>
</tr>
<tr>
<td><code class="prettyprint">price.type</code></td>
<td><em>string</em></td>
<td>Price type:<br/><em><b>no_price</b> - when user reached maximum price and will create a quote</em><br><em><b>voucher_applied</b> - when prices are with applied voucher</em></td>
</tr>
<tr>
<td><code class="prettyprint">price.description</code></td>
<td><em>string</em></td>
<td>Description text for the price</td>
</tr>
<tr>
<td><code class="prettyprint">price.total</code></td>
<td><em>double</em></td>
<td>Total amount as double value</td>
</tr>
<tr>
<td><code class="prettyprint">price.choices</code></td>
<td><em>array&lt;<a href="#choices">choices</a>&gt;</em></td>
<td>Price choices and choice items selected on availability</td>
</tr>
<tr>
<td><code class="prettyprint">price.price_breakdown</code></td>
<td><em>object</em></td>
<td>Breakdown of how price was calculated</td>
</tr>
<tr>
<td><code class="prettyprint">price.price_breakdown.name</code></td>
<td><em>string</em></td>
<td>Name of field</td>
</tr>
<tr>
<td><code class="prettyprint">price.price_breakdown.value</code></td>
<td><em>string</em></td>
<td>Value of field</td>
</tr>
<tr>
<td><code class="prettyprint">price.price_breakdown.description</code></td>
<td><em>string</em></td>
<td>Description text for field</td>
</tr>
<tr>
<td><code class="prettyprint">price.price_breakdown.type</code></td>
<td><em>string</em></td>
<td>Type of breakdown element:<br/><em><b>membership</b> - price of a membership</em><br><em><b>service</b> - price of a service after membership discount</em><br><em><b>voucher</b> - discount from vouchers applied</em><br><em><b>credit</b> - discounts from credits applied</em><br><em><b>total</b> - total price after discounts</em></td>
</tr>
<tr>
<td><code class="prettyprint">work_time</code></td>
<td><em>integer</em></td>
<td>Service duration in minutes</td>
</tr>
<tr>
<td><code class="prettyprint">payment_method</code><br><em>editable</em></td>
<td><em><a href="#payment-methods">object</a></em></td>
<td>Selected payment method for the booking</td>
</tr>
<tr>
<td><code class="prettyprint">payment_method_title</code></td>
<td><em>string</em></td>
<td>Display text for payment method</td>
</tr>
<tr>
<td><code class="prettyprint">payment_method_description</code></td>
<td><em>string</em></td>
<td>Display text for payment method description. Used to show additional information e.g. if payment method is Bank Transfer and client has no options to change it on reschedule.</td>
</tr>
<tr>
<td><code class="prettyprint">paymethods</code><br><em>editable</em></td>
<td><em><a href="#paymethods">object</a></em></td>
<td>Selected paymethod for the booking (particular credit card etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">voucher</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Discount voucher code used for booking</td>
</tr>
<tr>
<td><code class="prettyprint">feedback_rate</code><br><em>editable</em></td>
<td><em>integer</em></td>
<td>Rating value (1-5) of client for booking service</td>
</tr>
<tr>
<td><code class="prettyprint">rate</code><br><em>editable</em></td>
<td><em><a href="#rate-booking">object</a></em></td>
<td>Rating object of client for booking service</td>
</tr>
<tr>
<td><code class="prettyprint">unit</code></td>
<td><em><a href="#units">object</a></em></td>
<td>Pro assigned to the booking</td>
</tr>
<tr>
<td><code class="prettyprint">team</code></td>
<td><em><a href="#teams">object</a></em></td>
<td>Team assigned to the booking</td>
</tr>
<tr>
<td><code class="prettyprint">online_status</code></td>
<td><em>integer</em></td>
<td>Status of the booking:<br/><em><b>10</b> - Quote</em><br><em><b>20</b> - Booked</em><br><em><b>30</b> - Cancelled</em></td>
</tr>
<tr>
<td><code class="prettyprint">source</code></td>
<td>object</td>
<td>Tracking source of the booking for marketing campaigns or website. You can create a tracking source after you&rsquo;ve purchased your tracking phone number(s) and then assign that new tracking source to specific tracking.</td>
</tr>
<tr>
<td><code class="prettyprint">source.phone</code></td>
<td>string</td>
<td>Tracking source phone of the website or marketing campaigns</td>
</tr>
<tr>
<td><code class="prettyprint">source.domain_url</code></td>
<td>string</td>
<td>Source domain name of the booking without www. and http/https protocols</td>
</tr>
<tr>
<td><code class="prettyprint">service</code><br><em>editable</em></td>
<td><em><a href="#services">object</a></em></td>
<td>Booking service</td>
</tr>
<tr>
<td><code class="prettyprint">can_reschedule_until</code></td>
<td><em>integer</em></td>
<td>The time up untilclient can reschedule the service in UTC timestampe</td>
</tr>
<tr>
<td><code class="prettyprint">can_edit_until</code></td>
<td><em>integer</em></td>
<td>The time up untilclient can edit the booking in UTC timestampe</td>
</tr>
<tr>
<td><code class="prettyprint">can_cancel_until</code></td>
<td><em>integer</em></td>
<td>The time up until the client can cancel the service in UTC timestampe</td>
</tr>
<tr>
<td><code class="prettyprint">can_rebook_until</code></td>
<td><em>integer</em></td>
<td>The time up until the client can book the same service in UTC timestampe</td>
</tr>
<tr>
<td><code class="prettyprint">address_formatted</code></td>
<td><em>string</em></td>
<td>Display text of main booking address</td>
</tr>
<tr>
<td><code class="prettyprint">comments</code><br><em>editable</em></td>
<td><em>array</em></td>
<td>Comments left by the client</td>
</tr>
<tr>
<td><code class="prettyprint">client_attached_files</code><br><em>editable</em></td>
<td><em>array</em></td>
<td>Files uploaded from the client</td>
</tr>
<tr>
<td><code class="prettyprint">documents</code></td>
<td><em>array</em></td>
<td>Documents related to the booking</td>
</tr>
<tr>
<td><code class="prettyprint">service_summary</code></td>
<td><em>array</em></td>
<td>Summary for processed booking</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>integer</em></td>
<td><em>today</em></td>
<td>UTC time stamp to filter bookings by timeslot after a date</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>integer</em></td>
<td><em>9999999999</em></td>
<td>UTC time stamp to filter bookings by timeslot before a date</td>
</tr>
</tbody></table>

<h2 id="past-bookings">Past bookings</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/past_bookings"</span>
</code></pre>

<p>Past <a href="#bookings">bookings</a> for a client in descending order based on appointment time.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;past_bookings&quot;</code></p>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>integer</em></td>
<td><em>0</em></td>
<td>UTC time stamp to filter bookings by timeslot after a date</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>integer</em></td>
<td><em>today</em></td>
<td>UTC time stamp to filter bookings by timeslot before a date</td>
</tr>
</tbody></table>

<h2 id="unit-status">Unit status</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/unit_status"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"active_from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1563537905</span><span class="p">,</span><span class="w">
    </span><span class="nt">"progress"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_previous_job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"At another job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_the_way"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"On the way"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"started"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"On the job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Job done"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"team"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George's people"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"units"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goerge Watson"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Steve Datsun"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.image.com/icon.png"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"main_unit_location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.40338</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.17403</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">123435435</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"booking_address_coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.40338</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.17403</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"eta"</span><span class="p">:</span><span class="w"> </span><span class="mi">1563534905</span><span class="p">,</span><span class="w">
    </span><span class="nt">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bookings/123/call_unit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"call_unit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"active_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1564534905</span><span class="p">,</span><span class="w">
        </span><span class="nt">"deep_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"action=call_unit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call Professional"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Details on the Pro location and status based on a booking.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/unit_status&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">active_from</code></td>
<td><em>integer</em></td>
<td>Time after which the data will be available in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">progress.type</code></td>
<td><em>string</em></td>
<td><em><b>on_previous_job</b> - unit has a checked in job that doesn&rsquo;t yet have checkout</em><br><em><b>on_the_way</b> - unit is not on a previous job and is traveling to the appointment</em><br><em><b>started</b> - unit has checked in current appointment</em><br><em><b>finished</b> - unit has checked in current appointment</em></td>
</tr>
<tr>
<td><code class="prettyprint">eta</code></td>
<td><em>integer</em></td>
<td>Estimated time of arrival of unit on appointment address in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">actions.type</code></td>
<td><em>string</em></td>
<td><em><b>call_unit</b> - initaiate call to unit</em><br><em><b>call_cs</b> - initaiate call to cs</em><br><em><b>rate</b> - rate service</em></td>
</tr>
</tbody></table>

<h2 id="call-customer-service">Call customer service</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
      "reason_id": 1,
      "comment": "Pro delay",
      "phone_id": 3
}
'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/call_cs"</span>
</code></pre>

<p>Client can call customer service in a relation to a booking</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/call_cs&quot;</code></p>

<h3 id="call-client-request-parameters">Call client request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for <a href="#call-customer-service-reasons">call customer service reason</a> client selected for calling</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left after picking a reason</td>
</tr>
<tr>
<td><code class="prettyprint">phone_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Phone number to connect to client</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="call-customer-service-reasons">Call customer service reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/call_cs_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro delay"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to call customer service in relation to a booking from a list.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/call_cs_reasons&quot;</code></p>

<h2 id="call-unit">Call unit</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
      "reason_id": 1,
      "comment": "Pro delay",
      "phone_id": 3
}
'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/call_unit"</span>
</code></pre>

<p>Client can call unit in a relation to a booking</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/call_unit&quot;</code></p>

<h3 id="call-client-request-parameters">Call client request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for <a href="#call-unit-reasons">call unit reason</a> client selected for calling</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left after picking a reason</td>
</tr>
<tr>
<td><code class="prettyprint">phone_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Phone number to connect to client</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="call-unit-reasons">Call unit reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/call_unit_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro delay"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to call unit in relation to a booking from a list.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/call_unit_reasons&quot;</code></p>

<h2 id="avatar">Avatar</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/user/avatar"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"euaoisd1273892173dsahjd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://server.com/image.jpg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Avatar of the client</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user/avatar&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Token for image file on file server</td>
</tr>
<tr>
<td><code class="prettyprint">url</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>URL address of image file</td>
</tr>
</tbody></table>

<h2 id="purchase-membership">Purchase membership</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "client_paymethod_id": 12345,
        "client_paymethod": {
          "payment_method_id": 12,
          "token": "hzkchvkuhzgxcvkjhsbdfnaljJGKJbdasnbdLJHDs"
        },
        "paymethod": {
          "id": 1,
          "payment_method_id": 2,
          "data": {
            "token": "kjkadshfjkhSAKJHkljHASKJLHKJfdasf"
          }
        },
        "source_id": 11426,
        "domain_url": "fantasticcleaners.com",
        "source_phone": "02037460906"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/purchase_membership"</span>
</code></pre>

<p>Clients can purchase membership by providing card details. Card can be created upon purchase or existin card id can be provided upon purchase.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;purchase_membership&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">client_paymethod_id (deprecated)</code><br><em>required (if no <code class="prettyprint">client_paymethod</code>)</em></td>
<td><em>integer</em></td>
<td>Object id of paymethod (card saved as user payment detail)</td>
</tr>
<tr>
<td><code class="prettyprint">client_paymethod (deprecated)</code><br><em>required (if no <code class="prettyprint">client_paymethod_id</code>)</em></td>
<td><em>object</em></td>
<td>Details for creating new paymethod</td>
</tr>
<tr>
<td><code class="prettyprint">client_paymethod.payment_method_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier of selected payment method to create the paymethod with</td>
</tr>
<tr>
<td><code class="prettyprint">client_paymethod.token</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Card token from Stripe</td>
</tr>
<tr>
<td><code class="prettyprint">paymethod</code></td>
<td><em>object&lt;<a href="#paymethods">paymethod</a>&gt;</em></td>
<td>Client paymethod to purchase the membership with</td>
</tr>
<tr>
<td><code class="prettyprint">source_id</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td>Object id of source</td>
</tr>
<tr>
<td><code class="prettyprint">domain_url</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Source domain url</td>
</tr>
<tr>
<td><code class="prettyprint">source_phone</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Source phone number</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#payment-errors">Payment errors</a></li>
</ul>

<h2 id="purchase-membership-payment-methods">Purchase membership payment methods</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/purchase_membership_payment_methods"</span>
</code></pre>

<p><a href="#payment-methods">Payment methods</a> for puchasing membership.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;purchase_membership_payment_methods&quot;</code></p>

<h2 id="3d-security-2-0-challenge">3D Security 2.0 Challenge</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/purchase_membership/three_d_security_two_challenge?query[paymethod_id]=2"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"challenge_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1Lp6z6Ui3PRfgA30EoM3uOZYR5PXUgr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1Lp6z6Ui3PRfgA30EoM3uOZYR5PXUgr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Payment provider data needed for 3D security. Can be used on creating a card, purchasing membership or booking.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;payment_methods/{{id}}/three_d_security_two_challenge&quot;</code><br/>
<code class="prettyprint">&quot;path&quot;: &quot;purchase_membership/three_d_security_two_challenge&quot;</code><br/>
<code class="prettyprint">&quot;path&quot;: &quot;booking_transactions/{{id}}/three_d_security_two_challenge&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">amount</code></td>
<td><em>double</em></td>
<td>Amount to use when requesting 3D security from payment provider.</td>
</tr>
<tr>
<td><code class="prettyprint">challenge_token</code></td>
<td><em>string</em></td>
<td>Identifier from payment provider to link authorization request with server.</td>
</tr>
<tr>
<td><code class="prettyprint">card_token</code></td>
<td><em>string</em></td>
<td>Re-generated card token to use for 3D Security 2.0</td>
</tr>
<tr>
<td><code class="prettyprint">bin</code></td>
<td><em>string</em></td>
<td>Card details after re-generating token</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.payment_method_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#payment-methods">Payment method</a> identifier to apply 3D Security with for a given operation. Needed when purchasing membership or booking.</td>
</tr>
<tr>
<td><code class="prettyprint">query.paymethod_id</code></td>
<td><em>integer</em></td>
<td><em>none</em></td>
<td><a href="#paymethods">Paymethod</a> identifier to apply 3D Security with for a given operation. Needed when purchasing membership or booking.</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="booking-process">Booking process</h1>

<h2 id="booking-transactions">Booking transactions</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>

<blockquote>
<p>The above request success response in addition to booking object is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"...booking fields..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"...booking values..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"init"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choice_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choice_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>Example setting address:

curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "service": {
    "id": 1,
    "choices": [
      {
        "id": 338,
        "positions": ["init"],
        "choice_items": [
          {
            "id": 1110,
            "value": {
              "address_line_one": "24 Red Lion Street",
              "address_line_two": "Brooklands",
              "postcode": "SW12 2TH"
            }
          }
        ]
      }
    ]
  }
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>
<pre class="highlight shell"><code>Example setting price:

curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "timeslot_formatted": "2015-03-24 10:00",
  "price": {
    "choices": [
      {
        "id": 1,
        "choice_items": [
          {
            "id": 1,
            "value": 1
          }
        ]
      }
    ]
  }
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>
<pre class="highlight shell"><code>Example setting new paymethod:

curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "payment_method": 3,
  "paymethod": {
    "payment_method_id": 3,
    "data": {
      "token": "231231jsklfhaksj231§2"
    }
  }
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>
<pre class="highlight shell"><code>Example setting existing paymethod:

curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "payment_method": 3,
  "paymethod": 5
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>

<p>Booking transactions are representation of an ongoing booking process. They inherit <a href="#bookings">booking</a> and add:</p>

<ul>
<li><code class="prettyprint">confirmed</code> - when client confirms their booking it&rsquo;s set to true. All service required choices have to be filled first.</li>
<li><code class="prettyprint">state</code> - client position in booking process (progress)</li>
</ul>

<p><code class="prettyprint">&quot;path&quot;: &quot;booking_transactions&quot;</code></p>

<h3 id="creating-booking-transaction">Creating booking transaction</h3>

<p>Booking transaction can be created in two ways:</p>

<ul>
<li><code class="prettyprint">session</code>, <code class="prettyprint">service</code>, all <code class="prettyprint">init</code> choices for the service - minimum to create a booking transaction for booking a service is logged in user, service and values for all choices with position <code class="prettyprint">init</code>. <code class="prettyprint">session</code> is taken from <code class="prettyprint">Authorization</code> header of the request, <code class="prettyprint">service</code> value should be object id. Choices should be sent with their filled choice items. Any other fields can be passed in addition if available.</li>
<li><code class="prettyprint">booking_id</code> - creates booking transaction to edit an existing booking. Any other fields can be passed in addition.</li>
<li><code class="prettyprint">copied_booking_id</code> - creates booking transaction to create new booking by copying existing booking. Any other fields can be passed in addition.</li>
</ul>

<h3 id="set-addresses">Set addresses</h3>

<p>Address is set as value for choice items. An object is passed that should minumum contain <code class="prettyprint">postcode</code>. Value can be further updated with other attributes as <code class="prettyprint">address_line_1</code> etc. Addresses are validated based on the service coverage.</p>

<h3 id="set-price">Set price</h3>

<p>To set price you need to:</p>

<ul>
<li>Get <a href="#availabilty">avaialbility</a></li>
<li>Pick time of the service by selecting an object from <code class="prettyprint">availabilities.timeslots</code></li>
<li>Combine <code class="prettyprint">availabilities.date</code> with <code class="prettyprint">availabilities.timeslots.time</code> and set <code class="prettyprint">booking_transaction.timeslot_formatted</code> matching it`s format</li>
<li>From the selected <code class="prettyprint">avilability.timeslots</code> object pick objects from <code class="prettyprint">choices.choice_items</code> and set <code class="prettyprint">booking_transaction.price.choices</code> matching it`s structure</li>
</ul>

<h3 id="set-paymethod">Set paymethod</h3>

<p>Paymethod can be set by:</p>

<ul>
<li>Passing new paymethod details - set at least <code class="prettyprint">payment_method_id</code> and <code class="prettyprint">data.token</code> at <code class="prettyprint">booking_transaction.paymethod</code> to create new paymethod for the booking transaction. Optionally other fields as <code class="prettyprint">description</code>, <code class="prettyprint">default</code> or <code class="prettyprint">sort</code> can be passed.</li>
<li>Passing existing paymethod id - if you want to use existing paymethod set it&rsquo;s <code class="prettyprint">id</code> at <code class="prettyprint">booking_transaction.paymethod</code></li>
</ul>

<h3 id="booking-configuration">Booking configuration</h3>

<p>Each transaction holds a service object. It contains the choice and choice item objects needed to book the service. Editing booking has pre-filled choice items.</p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">confirmed</code></td>
<td><em>boolean</em></td>
<td>Marks when booking transaction is confirmed by client and accepted by server</td>
</tr>
<tr>
<td><code class="prettyprint">state.position</code></td>
<td><em>string</em></td>
<td>Client last submitted <a href="#choices">choice</a> position</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#booking-process-errors">Booking process errors</a></li>
<li><a href="#booking-process-warnings">Booking process warning</a></li>
<li><a href="#payment-errors">Payment errors</a></li>
</ul>

<h2 id="leave-booking-process">Leave booking process</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "leave_reason_id": 123,
        "comment": "Don`t need the service anymore"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/123/leave"</span>
</code></pre>

<p>To leave booking process pick &ldquo;<a href="#leave-reasons">leave reasons</a>&rdquo; and pass it with a comment (if required for the reason)</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_transaction_id}}/leave&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">leave_reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td><a href="#leave-reasons">Leave reason</a> user selected from a list of reasons</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left by the client (if comment is required for the selected reason)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="leave-reasons">Leave reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/leave_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I don't like the price"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"init"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cofiguraton"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I can't find what I need"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"init"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cofiguraton"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client chooses the reasons to leave the booking proces from a list of leave reasons</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;leave_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Leave reason title text</td>
</tr>
<tr>
<td><code class="prettyprint">requires_comment</code></td>
<td><em>boolean</em></td>
<td>Determines whether comment is required to leave with this reason</td>
</tr>
<tr>
<td><code class="prettyprint">positions</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>Leave reason is shown at those positions</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.position</code></td>
<td><em>string</em></td>
<td><em>configurator</em></td>
<td>Filters leave reasons by <code class="prettyprint">position</code>. If no filter is passed all leave reasons are returned. To filter leave reasons by more than one position pass an array of positions e.g. <code class="prettyprint">[&quot;configurator&quot;, &quot;init&quot;]</code>.</td>
</tr>
</tbody></table>

<h2 id="append-tags">Append tags</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "tags": [
            "membership"
        ]
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/booking_transactions/123/append_tags"</span>
</code></pre>

<p>Mark booking transaction with a tag based on user interactions.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;booking_transactions/{{booking_transaction_id}}/append_tags&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">tags</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>List of tags. Available tags:<br/><em><b>seen_join_the_club</b> - client have picked member price and membership screen was shown to ask for agreeing to become a member</em></td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="availability">Availability</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/availability?query[transaction_id]=laghfljasdhgfkjgKJHGJKHGKJHGjkgkjhdas"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_price"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maximum price reached."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"availabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeslots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"carbon"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"members_only"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="mi">2</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"special_timeslots"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"asap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24 10:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"best_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-24 12:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns available slots for performing a service.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;availability&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price</code></td>
<td><em>object</em></td>
<td>Description of the price</td>
</tr>
<tr>
<td><code class="prettyprint">price.type</code></td>
<td><em>string</em></td>
<td>Type of the price (check <a href="#bookings">booking</a><code class="prettyprint">.price.type</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">price.description</code></td>
<td><em>string</em></td>
<td>Description text for the price</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities</code></td>
<td><em>array</em></td>
<td>List of days the service is available</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.date</code></td>
<td><em>string</em></td>
<td>Date of availability</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.timeslots</code></td>
<td><em>array</em></td>
<td>List of timeslots for the day</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.timeslots.time</code></td>
<td><em>string</em></td>
<td>Time of timeslot</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.timeslots.available</code></td>
<td><em>boolean</em></td>
<td>Determines whether slot can be booked</td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.timeslots.tags</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>Visual customization of timeslot:<br/><em><b>carbon</b> - carbon slot</em><br><em><b>members_only</b> - members only slot</em><br><em><b>fully_booked</b> - fully booked</em><br><em><b>non_working_day</b> - non working day for service</em></td>
</tr>
<tr>
<td><code class="prettyprint">availabilities.timeslots.choices</code></td>
<td><em>array&lt;<a href="#choices">choices</a>&gt;</em></td>
<td>Timeslot price options as choices</td>
</tr>
<tr>
<td><code class="prettyprint">special_timeslots</code></td>
<td><em>object</em></td>
<td>Special timeslots</td>
</tr>
<tr>
<td><code class="prettyprint">special_timeslots.asap</code></td>
<td><em>string</em></td>
<td>First available slot</td>
</tr>
<tr>
<td><code class="prettyprint">special_timeslots.best_price</code></td>
<td><em>string</em></td>
<td>Slot with lowest price</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.transaction_id</code></td>
<td><em>string</em></td>
<td><em>none</em></td>
<td>Identifier for transaction to check availability for</td>
</tr>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>string</em></td>
<td><em>today</em></td>
<td>Filter availability from this date on (date string with format 2018-02-25)</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>string</em></td>
<td><em>a week from today</em></td>
<td>Filter availability to this date (date string with format 2018-02-25)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="cancel-booking">Cancel booking</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "cancel_reason_id": 123,
        "comment": "Don`t need the service anymore"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/cancel"</span>
</code></pre>

<p>To cancel booking pick a &ldquo;<a href="#cancel-reasons">cancel reasons</a>&rdquo; and pass it with a comment (if required for the reason)</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/cancel&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">cancel_reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td><a href="#cancel-reasons">Cancel reason</a> user selected from a list of reasons</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left by the client (if comment is required for the selected reason)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="rate-booking">Rate booking</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "rating": 3,
        "comment": "The apartment is still dirty",
        "tags": [1, 5]
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/rate"</span>
</code></pre>

<p>Rate booking with 1-5 stars. Negative rate (1-3) can leave a comment as well.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/rate&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">rating</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>1-5 stars rating of the service</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Comment left by the client</td>
</tr>
<tr>
<td><code class="prettyprint">tags</code></td>
<td><em>array&lt;integer&gt;</em></td>
<td>Identifier of tags client selected on rating the service</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="rate-tags">Rate tags</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/bookings/123/rate_tags"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bad pro"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"applies_for_ratings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">3</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dirty room"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"applies_for_ratings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">5</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List of tags to choose from upon leaving a rating</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bookings/{{booking_id}}/rate_tags&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Tag title text</td>
</tr>
<tr>
<td><code class="prettyprint">applies_for_ratings</code></td>
<td><em>array&lt;integer&gt;</em></td>
<td>List of ratings the tag applies for</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="edit-requests-temporary">Edit requests (temporary)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "booking_id": 123,
  "reason_id": 34,
  "comment": "some random description"
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/edit_requests"</span>
</code></pre>

<p>Creates task to files for changes on regular plan, sessions or bookings.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;edit_requests&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">booking_id</code></td>
<td><em>integer</em></td>
<td>Object id of booking to create task to</td>
</tr>
<tr>
<td><code class="prettyprint">reason_id</code></td>
<td><em>integer</em></td>
<td>Identifier of edit booking or plan reasons selected</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Text comment left on creating the task</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="add-note-temporary">Add note (temporary)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "booking_id": 123,
  "note": "Bring detergents"
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/client/add_note"</span>
</code></pre>

<p>Adds a comment to the booking.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;add_note&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">booking_id</code></td>
<td><em>integer</em></td>
<td>Object id of booking to add note to</td>
</tr>
<tr>
<td><code class="prettyprint">note</code></td>
<td><em>string</em></td>
<td>Text comment left</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="units">Units</h1>

<h2 id="login">Login</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "username": "test@test.com",
        "password": "1234"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/login"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cjkidhfqoihoufu18j0ncoy0jl7eu0d4ge1kslggp4outkh"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"create_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429863734</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expire_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1429906934</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To login you can use username and password.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;login&quot;</code></p>

<h3 id="username-and-password-login-request-parameters">Username and password login request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Username of the account to login</td>
</tr>
<tr>
<td><code class="prettyprint">password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Password of the account to login</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">session.sid</code></td>
<td><em>string</em></td>
<td>Your session id. Use for <code class="prettyprint">Authorization</code> header.</td>
</tr>
<tr>
<td><code class="prettyprint">session.create_time</code></td>
<td><em>integer</em></td>
<td>Session creation time in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">session.expire_time</code></td>
<td><em>integer</em></td>
<td>Session expiration time in UTC timestamp</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#login-errors">Login errors</a></li>
</ul>

<h2 id="logout">Logout</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/logout"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes user session.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;logout&quot;</code></p>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="request-reset-password-duplicate">Request reset password (duplicate)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "email": "test@test.com"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/request_reset_password"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Duplicate request available in <code class="prettyprint">client</code> as well. Couldn&rsquo;t be moved in <code class="prettyprint">shared</code> section due to technical issues (new shared folder needed in XRM for this particular endpoint). Initiate sending an email with link for resetting password</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;request_reset_password&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Email address to which a link for reset password will be sent</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#request-reset-password-errors">Request reset password</a></li>
</ul>

<h2 id="reset-password-duplicate">Reset password (duplicate)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",
        "password": "jamie",
        "confirm_password": "jamie",
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/reset_password"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john_doe@test.test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Duplicate request available in <code class="prettyprint">client</code> as well. Couldn&rsquo;t be moved in <code class="prettyprint">shared</code> section due to technical issues (new shared folder needed in XRM for this particular endpoint). Reset password of user.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;reset_password&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Token for resetting password received via email</td>
</tr>
<tr>
<td><code class="prettyprint">password</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User new password</td>
</tr>
<tr>
<td><code class="prettyprint">confirm_password</code><br><em>optional</em></td>
<td><em>string</em></td>
<td>Password confirmation check</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code></td>
<td><em>string</em></td>
<td>Login email address of user who resetted their password</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#reset-password-errors">Reset password</a></li>
</ul>

<h2 id="profile">Profile</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/profile"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john_doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH Tooley Street"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504857514</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"team"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rusat"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+44"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07123456789"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"available_for_ondemand_jobs"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"short_bio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Short bio text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2331xfasf23423rt43fsdfasDAS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/PVk0poyRIuRG2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"can_message_client"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_call_client"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cannot_decline_jobs"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_take_ondemand_jobs"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"has_to_send_summary_on_checkout"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"do_not_track_location"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"do_not_track_geofence"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_set_availability"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_view_task_manager"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"user_applications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"edit_request_status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504857514</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The changes were rejected!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"seen"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504857514</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Profile contains unit details and permissions</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;profile&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">username</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Unit email for login</td>
</tr>
<tr>
<td><code class="prettyprint">name</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>First name and last name of unit</td>
</tr>
<tr>
<td><code class="prettyprint">address</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Full address of unit (e.g. street name, building number etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Postcode of the unit</td>
</tr>
<tr>
<td><code class="prettyprint">rating</code></td>
<td><em>double</em></td>
<td>Performance score of Unit (1-5)</td>
</tr>
<tr>
<td><code class="prettyprint">birthdate</code><br><em>editable</em></td>
<td><em>integer</em></td>
<td>Timestamp of unit date of birth</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Gender of the unit</td>
</tr>
<tr>
<td><code class="prettyprint">team</code></td>
<td><em>string</em></td>
<td>Name of team the unit is assigned to</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td><em>string</em></td>
<td>Country code of area the Unit operates in</td>
</tr>
<tr>
<td><code class="prettyprint">language_code</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>Language code user chose from Settings in XRM or app. List of languages received at <a href="#system-languages">system_languages</a></td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td><em>string</em></td>
<td>Phone number of unit</td>
</tr>
<tr>
<td><code class="prettyprint">avatar.token</code><br><em>editable</em></td>
<td><em>string</em></td>
<td>File server token</td>
</tr>
<tr>
<td><code class="prettyprint">avatar.url</code></td>
<td><em>string</em></td>
<td>URL to avatar image</td>
</tr>
<tr>
<td><code class="prettyprint">permissions</code></td>
<td><em>array</em></td>
<td>List of permissions of unit</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_message_client</code></td>
<td><em>boolean</em></td>
<td>Can unit send SMS messages to clients</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_call_client</code></td>
<td><em>boolean</em></td>
<td>Can unit call clients</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.cannot_decline_jobs</code></td>
<td><em>boolean</em></td>
<td>Can unit decline jobs</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_take_ondemand_jobs</code></td>
<td><em>boolean</em></td>
<td>Can unit receive jobs on-demand via notifications that require response</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.has_to_send_summary_on_checkout</code></td>
<td><em>boolean</em></td>
<td>Should unit send summary on checkout</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.do_not_track_location</code></td>
<td><em>boolean</em></td>
<td>Stops unit from sending updates for current location</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.do_not_track_geofence</code></td>
<td><em>boolean</em></td>
<td>Stops unit from sending updates for entering and leaving areas around bookings</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_set_availability</code></td>
<td><em>boolean</em></td>
<td>Can unit set it&rsquo;s availability</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_view_task_manager</code></td>
<td><em>boolean</em></td>
<td>Can unit view tasks section</td>
</tr>
<tr>
<td><code class="prettyprint">available_for_ondemand_jobs</code></td>
<td><em>boolean</em></td>
<td>Shows whether Pro accepts on-demand jobs</td>
</tr>
<tr>
<td><code class="prettyprint">edit_request_status</code></td>
<td><em>object</em></td>
<td>Status of the last profile change. Changes go trough a review, before they are applied.</td>
</tr>
<tr>
<td><code class="prettyprint">edit_request_status.type</code></td>
<td><em>string</em></td>
<td><br/><em><b>pending</b> - change is not reviewed yet</em><br><em><b>approved</b> - change is approved and applied to the profile</em><br><em><b>rejected</b> - change was deleted</em></td>
</tr>
<tr>
<td><code class="prettyprint">edit_request_status.seen</code></td>
<td><em>boolean</em></td>
<td>Flag indicating if user has seen and acknowledged the change (has dismissed the notification)</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Timestamp of unit registration</td>
</tr>
</tbody></table>

<h2 id="request-update-phone">Request update phone</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "phone": "+447123456789"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/request_update_phone"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Request change of phone number in profile. On the requested phone a validation code is sent via SMS. If code is later sent at <a href="#validate-phone">validate phone</a> endpoint the phone in <a href="#profile">profile</a> will be updated to the requested one.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;request_update_phone&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">phone</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Phone number to which a validation code will be send.</td>
</tr>
</tbody></table>

<h2 id="validate-phone">Validate phone</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "phone": "+447123456789",
        "validation_code": "ab12"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/validate_phone"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Validate a phone number previously requested at <a href="#request-update-phone">request update phone</a>. If validated phone in <a href="#profile">profile</a> will be updated.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;validate_phone&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">phone</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Phone number to validate</td>
</tr>
<tr>
<td><code class="prettyprint">validation_code</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Validation code received via SMS</td>
</tr>
</tbody></table>

<h2 id="jobs">Jobs</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/jobs"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2584075</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payment_method"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"app_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504620000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"flexible_from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"flexible_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"insufficient_travel_time_warning_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504616400</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£97"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"base_total_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£97"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"price_notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Credit applied"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Compensation included"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"require_summary"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"work_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nt">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504620000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02034042956"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"display_positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="mi">10</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"message_templates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"In front of the property"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dear [CLIENT_NAME], I am in front of your property. Please let me in or call our office on 02034041930. Your Fantastic Professional"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"vars"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"variable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLIENT_NAME"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientName"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"destination_option_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"to office"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"decline_reason_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Technical issues"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nt">"decline_reasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car is broken"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"requires_comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"success_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please contact Stanimir Tomov on 07472761402 - he can find you another."</span><span class="p">,</span><span class="w">
              </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"icons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Key:"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alarm:"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2351"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"service_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gardening"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"prop"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional charges such as team compensation,parking,congestion"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nt">"opt"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Charges"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"attr"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Administration fee"</span><span class="p">,</span><span class="w">
                      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">]</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"checklists"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">345</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"checklist_reports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpeg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"app_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"231312rfjsa;dkfjsldkjf"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://file.com/31231298301289"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://file.com/31231298301289"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a comment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="p">,</span><span class="w">
          </span><span class="nt">"origin_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checklist"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nt">"work_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">360</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"money_collected"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"services_price_modifiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"service_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One-Off cleaning"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"price_modifiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How much was the parking?"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
              </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type_options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
                </span><span class="nt">"step"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"select_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chairs"</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6001</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sofa"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"geofence_radiuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"distance"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"arrival_timeframes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00 - 10:30"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"can_confirm"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534953201</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534993201</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"can_checkin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534953201</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534993201</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"can_checkout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534993201</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"can_add_attachment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534993201</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"can_add_comment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">999999999</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"can_call_office"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1534993201</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1504610238</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"radius"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">110</span><span class="p">,</span><span class="w">
          </span><span class="nt">"arrival_timeframe_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"performed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"client"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leigh Turner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stop_sms_channel"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stop_phone_channel"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2197447</span><span class="p">,</span><span class="w">
            </span><span class="nt">"info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07568***919"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"client_confirmed_job"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booked"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fantastic Services"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"company_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02034045188"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fantastic Services"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UB7 7LQ"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"contact_person"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75 Drayton Gardens, WEST DRAYTON, Middlesex, UB7 7LQ"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"address_note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"flat"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"parking"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irrelevant"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"station"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.50565968</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.4719201</span><span class="p">,</span><span class="w">
          </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a comment"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.4324324</span><span class="p">,</span><span class="w">
          </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1431936812</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#232323"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"System"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#343434"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Schedule with jobs for the unit</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">currency_code</code></td>
<td><em>string</em></td>
<td>Currency code</td>
</tr>
<tr>
<td><code class="prettyprint">payment_method</code></td>
<td><em>array payment_methods</em></td>
<td>Payment method client will use to pay</td>
</tr>
<tr>
<td><code class="prettyprint">app_time</code></td>
<td><em>integer</em></td>
<td>Appointment time for the job in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">flexible_from</code></td>
<td><em>integer</em></td>
<td>Start of timeframe to execute the job in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">flexible_to</code></td>
<td><em>integer</em></td>
<td>End of timeframe to execute the job in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">insufficient_travel_time_warning_time</code></td>
<td><em>integer</em></td>
<td>Time up until Pro should leave previous job in order to get to this job in time in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">total_formatted</code></td>
<td><em>string</em></td>
<td>Price of the service after discounts</td>
</tr>
<tr>
<td><code class="prettyprint">base_total_formatted</code></td>
<td><em>string</em></td>
<td>Price of the service before discounts</td>
</tr>
<tr>
<td><code class="prettyprint">price_notes</code></td>
<td><em>array<string></em></td>
<td>Description notes for the price of the services.</td>
</tr>
<tr>
<td><code class="prettyprint">require_summary</code></td>
<td><em>integer</em></td>
<td><em><b>0</b> - No summary required</em><br><em><b>1</b> - Should send summary at the end of the day</em><br><em><b>2</b> - Should send summary now</em><br><em><b>3</b> - Can&rsquo;t proceed until summary sent</em><br><em><b>4</b> - Summary sent</em></td>
</tr>
<tr>
<td><code class="prettyprint">work_time</code></td>
<td><em>integer</em></td>
<td>Job duration in minutes</td>
</tr>
<tr>
<td><code class="prettyprint">valid_to</code></td>
<td><em>integer</em></td>
<td>Time after which job is no more valid and has to be updated in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">attachments.origin_key</code></td>
<td><em>string</em></td>
<td>Identifies where the attachment is coming from:<br><em><b>checklist</b> - from answering a question that requires attachment</em><br><em><b>job</b> - from job screen</em><br><em><b>configurator</b> - from booking process when filling a choice item of type attachment</em></td>
</tr>
<tr>
<td><code class="prettyprint">services_price_modifiers</code></td>
<td><em>array</em></td>
<td>Price modifiers for included services in the job</td>
</tr>
<tr>
<td><code class="prettyprint">services_price_modifiers.price_modifiers</code></td>
<td><em>array</em></td>
<td>Price modifiers for a service in the job</td>
</tr>
<tr>
<td><code class="prettyprint">services_price_modifiers.price_modifiers.type</code></td>
<td><em>integer</em></td>
<td>Check service.choices.<a href="#choice-items">choice_items</a>.type</td>
</tr>
<tr>
<td><code class="prettyprint">arrival_timeframes</code></td>
<td><em>array<arrival_timeframes></em></td>
<td>Timeframes in which Pro can warn the client it will arrive</td>
</tr>
<tr>
<td><code class="prettyprint">permissions</code></td>
<td><em>array</em></td>
<td>List of permissions for the job</td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_confirm</code></td>
<td><em>object</em></td>
<td>Timeframes in which  the permission is <code class="prettyprint">true</code></td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_confirm.from</code></td>
<td><em>integer</em></td>
<td>Time from which the permission is <code class="prettyprint">true</code></td>
</tr>
<tr>
<td><code class="prettyprint">permissions.can_confirm.to</code></td>
<td><em>integer</em></td>
<td>Time to which the permission is <code class="prettyprint">true</code></td>
</tr>
<tr>
<td><code class="prettyprint">client_contacts</code></td>
<td><em>array client_contacts</em></td>
<td>Phone numbers client provided for contact</td>
</tr>
<tr>
<td><code class="prettyprint">events.type</code></td>
<td><em>integer</em></td>
<td><em><b>1</b> - Checkin</em><br><em><b>2</b> - Checkout</em><br><em><b>7</b> - View</em><br><em><b>8</b> - Confirm</em><br><em><b>12</b> - Arrive</em><br><em><b>13</b> - Depart</em><br><em><b>110</b> - Arrival timeframe</em></td>
</tr>
<tr>
<td><code class="prettyprint">performed</code></td>
<td><em>integer</em></td>
<td><em><b>0</b> - No checkout or auto performed</em><br><em><b>1</b> - Checked out</em><br><em><b>2</b> - Auto performed (24h passed)</em></td>
</tr>
<tr>
<td><code class="prettyprint">client</code></td>
<td><em>object</em></td>
<td>Client details</td>
</tr>
<tr>
<td><code class="prettyprint">paid</code></td>
<td><em>boolean</em></td>
<td>Flag indicating if client is charged</td>
</tr>
<tr>
<td><code class="prettyprint">comments</code></td>
<td><em>array</em></td>
<td>List of comments for the job</td>
</tr>
<tr>
<td><code class="prettyprint">comments.event_time</code></td>
<td><em>integer</em></td>
<td>UTC timestamp of when the comment was created on the device</td>
</tr>
<tr>
<td><code class="prettyprint">comments.created_at</code></td>
<td><em>integer</em></td>
<td>UTC timestamp of when the comment was created on the server</td>
</tr>
</tbody></table>

<h2 id="jobs-history">Jobs history</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/jobs_history"</span>
</code></pre>

<p>History of schedule with <a href="#jobs">jobs</a> for the unit</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs_history&quot;</code></p>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>integer</em></td>
<td><em>yesterday</em></td>
<td>UTC time stamp to filter results from a date</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>integer</em></td>
<td><em>last Monday</em></td>
<td>UTC time stamp to filter results to a date</td>
</tr>
</tbody></table>

<h2 id="payment-methods">Payment methods</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/payment_methods"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cash"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Available payment methods for unit to use when editing job.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;payment_methods&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title of payment method</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="call-client-reasons">Call client reasons</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/call_client_reasons"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I am in front of your property"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List of reasons a unit can choose when contacting the client</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;call_client_reasons&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title of reason</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="system-contacts">System contacts</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/system_contacts"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I am in front of your property"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer Service"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display_positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="mi">9</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List of contacts used accross the application interface.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;system_contacts&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td><em>string</em></td>
<td>Phone number, skype name or other identifier for contact</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>integer</em></td>
<td><em><b>1</b> - Phone</em><br><em><b>2</b> - Skype</em><br><em><b>3</b> - Chat</em></td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Display text of contact</td>
</tr>
<tr>
<td><code class="prettyprint">display_positions</code></td>
<td><em>array<integer></em></td>
<td>Position slot in the UI</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="available-cross-sales">Available cross sales</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/123/available_cross_sales"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"service_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One-Off Cleaning"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cross_sale_bonus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cross_sale_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.fantasticservices.com/upsell?serviceId=12&amp;clientId=23512&amp;proRefNumber=32143BST"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Available services to cross sell for a job.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/available_cross_sales&quot;</code>
<br/>
<code class="prettyprint">&quot;path&quot;: &quot;jobs_history/{{job_id}}/available_cross_sales&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">service_title</code></td>
<td><em>string</em></td>
<td>Title of service to cross sale</td>
</tr>
<tr>
<td><code class="prettyprint">cross_sale_bonus</code></td>
<td><em>string</em></td>
<td>Bonus on completion of cross sold service</td>
</tr>
<tr>
<td><code class="prettyprint">cross_sale_url</code></td>
<td><em>string</em></td>
<td>URL to start cross selling the service</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="bonuses">Bonuses</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/bonuses"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"service_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gardening"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 5TH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"client_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"app_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">123543213</span><span class="p">,</span><span class="w">
      </span><span class="nt">"voucher_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO10OFF"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£12"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on_site"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Services unit cross sold when on a job.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bonuses&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">service_title</code></td>
<td><em>string</em></td>
<td>Title of cross sell service</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code></td>
<td><em>string</em></td>
<td>Postcode of cross sell booking</td>
</tr>
<tr>
<td><code class="prettyprint">client_name</code></td>
<td><em>string</em></td>
<td>Client name of cross sell booking</td>
</tr>
<tr>
<td><code class="prettyprint">app_time</code></td>
<td><em>integer</em></td>
<td>Appointment time (UTC timestamp) of cross sell booking</td>
</tr>
<tr>
<td><code class="prettyprint">voucher_code</code></td>
<td><em>string</em></td>
<td>Voucher applied for cross sell booking</td>
</tr>
<tr>
<td><code class="prettyprint">amount</code></td>
<td><em>string</em></td>
<td>Bonus amount for cross sell booking</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>string</em></td>
<td><em><b>pending</b> - Cross sell booking has not passed</em><br><em><b>passed</b> - Cross sell booking has passed</em><br><em><b>cancelled</b> - Cross sell booking is cancelled</em><br><em><b>paid</b> - Cross sell bonus is paid</em></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>type</em></td>
<td><em><b>on_site</b> - Cross sell booking when on a job</em><br><em><b>voucher</b> - Left voucher and client booked with promo code from it</em></td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="bonus-totals">Bonus totals</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/bonus_totals"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£30"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Bonus total breakdown per status.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;bonus_totals&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>string</em></td>
<td>Status of <a href="#cross-sales">cross sell</a> for which the bonus is</td>
</tr>
<tr>
<td><code class="prettyprint">total_formatted</code></td>
<td><em>string</em></td>
<td>Total amount for all cross sales with that status</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="banners">Banners</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/banners"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please fill your morning checklist"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"It's an important step to start your day"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/9P05lMNH3OHjio5qVYeXAHcB1lLBVFFEliUPASTpfvteskmJhhBNjY6a6hkjehw&amp;quot"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#231232"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#231232"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1554995117</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deep_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checklists/1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"external_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.site.com/path"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"checklist"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A banner shown in jobs list that can lead to different locations in the application or link to websites.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;banners&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Title text for banner visualisation</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Description text for banner visualisation</td>
</tr>
<tr>
<td><code class="prettyprint">image_url</code></td>
<td><em>string</em></td>
<td>Image URL for banner visualisation</td>
</tr>
<tr>
<td><code class="prettyprint">background_color</code></td>
<td><em>string</em></td>
<td>Background color in hex format for banner visualisation</td>
</tr>
<tr>
<td><code class="prettyprint">text_color</code></td>
<td><em>string</em></td>
<td>Text color in hex format for banner visualisation</td>
</tr>
<tr>
<td><code class="prettyprint">valid_to</code></td>
<td><em>interger</em></td>
<td>Until when the banner should be displayed (UTC timestamp)</td>
</tr>
<tr>
<td><code class="prettyprint">deep_link</code></td>
<td><em>string</em></td>
<td>Path to location in the application. Used to redirect user when banner is tapped.</td>
</tr>
<tr>
<td><code class="prettyprint">external_link</code></td>
<td><em>string</em></td>
<td>URL to a website. Used to redirect user to a browser when banner is tapped.</td>
</tr>
<tr>
<td><code class="prettyprint">payload</code></td>
<td><em>object</em></td>
<td>Custom object with data corresponding to banner purpose</td>
</tr>
<tr>
<td><code class="prettyprint">payload.checklist</code></td>
<td><em>object&lt;<a href="#checklists">checklist</a>&gt;</em></td>
<td>Checklist to open when banner is tapped</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="system-languages">System languages</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/system_languages"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Български"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Available system languages for visualising the interface in XRM or BFantastic</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;system_languages&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">title</code></td>
<td><em>string</em></td>
<td>Display title of language in Settings</td>
</tr>
<tr>
<td><code class="prettyprint">code</code></td>
<td><em>string</em></td>
<td>ISO 639-1 two-letter language code</td>
</tr>
</tbody></table>

<h2 id="register-voucher">Register voucher</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "voucher_code": "23DSAD54"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/register_voucher"</span>
</code></pre>

<p>Units can register vouchers. Bookings with registered voucher will bring them bonuses.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;register_voucher&quot;</code></p>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#register-voucher-errors">Register voucher errors</a></li>
</ul>

<h2 id="registered-vouchers">Registered vouchers</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/registered_vouchers"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"voucher_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO10OFF"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1492511551</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"voucher_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO20OFF"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1492522551</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Units can review their registered vouchers.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;registered_vouchers&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">voucher_code</code></td>
<td><em>string</em></td>
<td>Voucher code</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Timestamp when the voucher was registered</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="checklists">Checklists</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/12/checklists"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Checklists for performing a job</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/checklists&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>integer</em></td>
<td><em><b>10</b> - After checkin</em><br><em><b>20</b> - Before checkout</em><br><em><b>30</b> - Daily quality check</em></td>
</tr>
<tr>
<td><code class="prettyprint">choices</code></td>
<td><em>array</em>&lt;<a href="#choices">choices</a>&gt;</td>
<td>Checklist questions</td>
</tr>
<tr>
<td><code class="prettyprint">choices.required</code></td>
<td><em>boolean</em></td>
<td>Should question be answered to send the checklist</td>
</tr>
<tr>
<td><code class="prettyprint">choices.title</code></td>
<td><em>string</em></td>
<td>Checklist question</td>
</tr>
<tr>
<td><code class="prettyprint">choices.choice_items</code></td>
<td><em>array&lt;<a href="#choice-items">choice_items</a>&gt;</em></td>
<td>Question answers</td>
</tr>
<tr>
<td><code class="prettyprint">choices.choice_items.title</code></td>
<td><em>string</em></td>
<td>Checklist question answer</td>
</tr>
</tbody></table>

<h2 id="checklist-reports">Checklist reports</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/12/checklist_reports"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1495702059</span><span class="p">,</span><span class="w">
      </span><span class="nt">"choice_items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"23hjfkajsdhfe198237019"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Checklist answers after filling checklist.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/checklist_reports&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>integer</em></td>
<td>Checklist type (see <a href="#checklists">checklists</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">event_time</code></td>
<td><em>integer</em></td>
<td>Timestamp when the event ocurred and was saved.</td>
</tr>
<tr>
<td><code class="prettyprint">choice_items</code></td>
<td><em>array</em></td>
<td>Checklist answers</td>
</tr>
<tr>
<td><code class="prettyprint">choice_items.id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">choice_items.value</code></td>
<td><em>string/array</em></td>
<td>Answer user entered</td>
</tr>
</tbody></table>

<h2 id="ratings">Ratings</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/ratings"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Didn't clean the kitchen well"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"client_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1496233156</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Didn't clean the kitchen well"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1496233156</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Client ratings for the unit.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;ratings&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">rate</code></td>
<td><em>integer</em></td>
<td>Rating client gave for the job</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Client comment upon rating the job</td>
</tr>
<tr>
<td><code class="prettyprint">client_name</code></td>
<td><em>string</em></td>
<td>Name of client who rated the job</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Timestamp when the rating was made</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="tracked-locations">Tracked locations</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/tracked_locations"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.197216</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.621094</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1496922768</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Locations tracked over time for the unit.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;tracked_locations&quot;</code></p>

<h3 id="request-parameters">Request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">lat</code></td>
<td><em>double</em></td>
<td>Latitude tracked</td>
</tr>
<tr>
<td><code class="prettyprint">lat</code></td>
<td><em>double</em></td>
<td>Longitude tracked</td>
</tr>
<tr>
<td><code class="prettyprint">event_time</code></td>
<td><em>integer</em></td>
<td>Timestamp when the event occurred and was saved (may be sent later)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#tracked-locations-errors">Tracked locations errors</a></li>
</ul>

<h2 id="work-time-shifts">Work time (shifts)</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/work_time"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"intervals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unit week work time (shifts).</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;work_time&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">day_of_week</code></td>
<td><em>integer</em></td>
<td>Day of the week:<br><em><b>1</b> - Monday</em><br><em><b>2</b> - Tuesday</em><br><em><b>3</b> - Wednesday</em><br><em><b>4</b> - Thursday</em><br><em><b>5</b> - Friday</em><br><em><b>6</b> - Saturday</em><br><em><b>7</b> - Sunday</em></td>
</tr>
<tr>
<td><code class="prettyprint">intervals</code></td>
<td><em>array&lt;interval&gt;</em></td>
<td>List of working intervals for the day</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.from_time</code></td>
<td><em>string</em></td>
<td>Start time of interval (time string with format 10:00)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.to_time</code></td>
<td><em>string</em></td>
<td>End time of interval (time string with format 10:00)</td>
</tr>
</tbody></table>

<h2 id="availability">Availability</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/availability"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21-02-2018"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"intervals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"pending_requests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="mi">3</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unit availability after applying days off/time off.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;availability&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">date</code></td>
<td><em>string</em></td>
<td>Date of availability (date string with format 2018-02-25)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals</code></td>
<td><em>array&lt;interval&gt;</em></td>
<td>List of working intervals for the day</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.from_time</code></td>
<td><em>string</em></td>
<td>Start time of interval (time string with format 10:00)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.to_time</code></td>
<td><em>string</em></td>
<td>End time of interval (time string with format 10:00)</td>
</tr>
<tr>
<td><code class="prettyprint">pending_requests</code></td>
<td><em>array&lt;<a href="#availability-requests">availability_request</a>&gt;</em></td>
<td>List of pending requests for the day</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>integer</em></td>
<td><em>Monday</em></td>
<td>UTC time stamp to filter results from a date</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>integer</em></td>
<td><em>Sunday</em></td>
<td>UTC time stamp to filter results to a date</td>
</tr>
</tbody></table>

<h2 id="availability-requests">Availability requests</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/availability_requests"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"time_off"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-25 12:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-25 18:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dayoff_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Want to have a break on 25th afternoon"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days_off"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-25 00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"to_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-25 23:59"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dayoff_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Want to take the day 25th off"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work_time"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"intervals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"from_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Want to work from 10:00-14:00 and from 15:00-19:00 Tuesdays"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"work_time"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dayoff_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Won't work in Sundays"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1528180405</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Requests of unit for changes of availability (shifts, working days etc.).</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;availability_requests&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td><em>string</em></td>
<td>Request type:<br><em><b>time_off</b> - Part of day off</em><br><em><b>days_off</b> - Days off</em><br><em><b>work_time</b> - Change in shift</em></td>
</tr>
<tr>
<td><code class="prettyprint">from_formatted</code></td>
<td><em>string</em></td>
<td>Request start date formatted (string date with format 2018-12-25 12:00)</td>
</tr>
<tr>
<td><code class="prettyprint">to_formatted</code></td>
<td><em>string</em></td>
<td>Request end date formatted (string date with format 2018-12-25 12:00)</td>
</tr>
<tr>
<td><code class="prettyprint">dayoff_type_id</code></td>
<td><em>integer</em></td>
<td><code class="prettyprint">id</code> of <a href="#day-off-types">reason</a> for change.</td>
</tr>
<tr>
<td><code class="prettyprint">day_of_week</code></td>
<td><em>integer</em></td>
<td>Day of the week:<br><em><b>1</b> - Monday</em><br><em><b>2</b> - Tuesday</em><br><em><b>3</b> - Wednesday</em><br><em><b>4</b> - Thursday</em><br><em><b>5</b> - Friday</em><br><em><b>6</b> - Sunday</em></td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Unit comment for request</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>string</em></td>
<td>Status of request:<br><em><b>pending</b> - Waiting for approval</em><br><em><b>approved</b> - Approved</em><br><em><b>declined</b> - Declined</em></td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Unix timestamp when request is created</td>
</tr>
<tr>
<td><code class="prettyprint">updated_at</code></td>
<td><em>integer</em></td>
<td>Unix timestamp when request is updated (approved or declined)</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.status</code><br><em>optional</em></td>
<td><em>string</em></td>
<td><em>all statuses</em></td>
<td>Filters availability requests by <code class="prettyprint">status</code>. If no filter is passed all availability requests are returned. To filter availability requests by more than one status pass an array of statuses e.g. <code class="prettyprint">[&quot;pending&quot;, &quot;approved&quot;]</code></td>
</tr>
</tbody></table>

<h2 id="hourly-availability">Hourly Availability</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/hourly_availability"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-21"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"intervals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20180221300</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">66000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">66300</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"available_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mi">2</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20180221600</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One-Off Cleaning"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">6000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">6300</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nt">"available_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">3</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unit availability in pre-defined time intervals (e.g. 10:00 - 10:30, 10:30 - 11:00 etc.). It is a result of work time (shifts) + applying days off/time off + applying hourly availability modifications. Interval duration may vary - if unit has appointment the interval accompasses the appointment duration.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;hourly_availability&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">date</code></td>
<td><em>string</em></td>
<td>Date of availability (date string with format <code class="prettyprint">YYYY-MM-DD</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals</code></td>
<td><em>array&lt;interval&gt;</em></td>
<td>List of intervals for the day</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.from</code></td>
<td><em>integer</em></td>
<td>Interval starts (seconds since mindnight)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.to</code></td>
<td><em>integer</em></td>
<td>Interval ends (seconds since mindnight)</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.type_id</code></td>
<td><em>integer</em></td>
<td>Selected interval <a href="#hourly-availability-configuration">type</a> id</td>
</tr>
<tr>
<td><code class="prettyprint">intervals.available_types</code></td>
<td><em>array&lt;<a href="#hourly-availability-configuration">type</a>&gt;</em></td>
<td>List of available interval types to toggle</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.from_date</code></td>
<td><em>integer</em></td>
<td><em>Monday</em></td>
<td>UTC time stamp to filter results from a date</td>
</tr>
<tr>
<td><code class="prettyprint">query.to_date</code></td>
<td><em>integer</em></td>
<td><em>Sunday</em></td>
<td>UTC time stamp to filter results to a date</td>
</tr>
</tbody></table>

<h2 id="hourly-availability-configuration">Hourly Availability Configuration</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/hourly_availability_configuration"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"duration_scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nt">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"color_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HourlyAvailabilityAvailable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not working"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"color_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HourlyAvailabilityNotAvailable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Occupied"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"color_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HourlyAvailabilityNotOccupied"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unit hourly availability configurations.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;hourly_availability_configuration&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">duration_scale</code></td>
<td><em>integer</em></td>
<td>Duration of one row in the UI in seconds</td>
</tr>
<tr>
<td><code class="prettyprint">types</code></td>
<td><em>array&lt;type&gt;</em></td>
<td>List of all types available for the unit</td>
</tr>
<tr>
<td><code class="prettyprint">types.color_name</code></td>
<td><em>string</em></td>
<td>Key of corresponding color in the UI</td>
</tr>
</tbody></table>

<h2 id="day-off-types">Day off types</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/day_off_types"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Broken car"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Reasons for availability change.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;day_off_types&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Name of day off reason</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="tasks">Tasks</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/tasks"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I need new uniform"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My old uniform lost color. Can I get a new one? Thank you."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"from_me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">345</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My old uniform is looking bad. I need a new one"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539161269</span><span class="p">,</span><span class="w">
          </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"from_me"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1539161269</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unit can create tasks to partners and vice versa. Notes can be added from both sides.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;tasks&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">subject</code></td>
<td><em>string</em></td>
<td>What is the task about</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Details on the task</td>
</tr>
<tr>
<td><code class="prettyprint">author</code></td>
<td><em>string</em></td>
<td>Author of note</td>
</tr>
<tr>
<td><code class="prettyprint">source</code></td>
<td><em>string</em></td>
<td>Who created the task:<br><em><b>from_me</b> - Creted by unit</em><br><em><b>for_me</b> - Created by partner for unit</em></td>
</tr>
<tr>
<td><code class="prettyprint">type_id</code></td>
<td><em>integer</em></td>
<td>Identifier of <a href="#task-types">task type</a> chosen on task creation</td>
</tr>
<tr>
<td><code class="prettyprint">job</code></td>
<td><em>object&lt;<a href="#jobs">job</a>&gt;</em></td>
<td><a href="#jobs">Job</a> related to task</td>
</tr>
<tr>
<td><code class="prettyprint">notes</code></td>
<td><em>array</em></td>
<td>List of notes on the task</td>
</tr>
<tr>
<td><code class="prettyprint">notes.text</code></td>
<td><em>string</em></td>
<td>Content of note</td>
</tr>
<tr>
<td><code class="prettyprint">notes.author</code></td>
<td><em>string</em></td>
<td>Author of note</td>
</tr>
<tr>
<td><code class="prettyprint">notes.created_at</code></td>
<td><em>integer</em></td>
<td>When was note created in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">notes.source</code></td>
<td><em>string</em></td>
<td>Who created the note:<br><em><b>from_me</b> - Creted by unit</em><br><em><b>for_me</b> - Created by partner for unit</em></td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>string</em></td>
<td><br><em><b>open</b> - Task still not resolved</em><br><em><b>closed</b> - Task resolved</em></td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>When was task created in UTC timestamp</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="task-types">Task types</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/task_types"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Distance"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When tasks are craeted they need a type.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;task_types&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td><em>string</em></td>
<td>Name of the task type</td>
</tr>
<tr>
<td><code class="prettyprint">sort</code></td>
<td><em>integer</em></td>
<td>Order of item in list</td>
</tr>
</tbody></table>

<h2 id="feedback">Feedback</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "text": "I really like this app!"
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/feedback"</span>
</code></pre>

<blockquote>
<p>The above request success response is :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"debug_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Units can share feedback on their experience with the system.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;feedback&quot;</code></p>

<h3 id="feedback-request-parameters">Feedback request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">text</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Unit feedback input text</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="send-message-to-client">Send message to client</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "message_template_id": 12,
        "vars": [
         {
           "variable": "DELAY_MINUTES",
           "value": "25"
         },
       "lat": 51.604903,
       "lng": -0.457022
  ]
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/send_message"</span>
</code></pre>

<p>Units can send messages to clients using <a href="#jobs">message templates</a></p>

<p><code class="prettyprint">&quot;path&quot;: &quot;send_message&quot;</code>
<br/>
<code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/send_message&quot;</code></p>

<h3 id="send-message-request-parameters">Send message request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">message_template_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Message template used for the message</td>
</tr>
<tr>
<td><code class="prettyprint">vars</code></td>
<td><em>array</em></td>
<td>List of variables for the message template</td>
</tr>
<tr>
<td><code class="prettyprint">vars.variable</code></td>
<td><em>string</em></td>
<td>Variable name</td>
</tr>
<tr>
<td><code class="prettyprint">vars.value</code></td>
<td><em>string</em></td>
<td>Unit input for variable</td>
</tr>
<tr>
<td><code class="prettyprint">lat</code></td>
<td><em>double</em></td>
<td>Latitude where event occured</td>
</tr>
<tr>
<td><code class="prettyprint">lng</code></td>
<td><em>double</em></td>
<td>Longitude where event occured</td>
</tr>
<tr>
<td><code class="prettyprint">booking_id</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td>Identifier for job to whose client message will be sent. If endpoint called directly (not trough job) booking id is required.</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="call-client">Call client</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
      "call_client_reason_id": 1,
      "client_contact_id": 2,
      "client_contact_type": 3
}
'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/123/call_client"</span>
</code></pre>

<p>Units can call clients using <a href="#jobs">client contacts</a> from job</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;call_client&quot;</code>
<br/>
<code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/call_client&quot;</code></p>

<h3 id="call-client-request-parameters">Call client request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">call_client_reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for <a href="#call-client-reasons">call client reason</a> unit selected for calling</td>
</tr>
<tr>
<td><code class="prettyprint">client_contact_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for client <a href="#jobs">contact</a> from job</td>
</tr>
<tr>
<td><code class="prettyprint">client_contact_type</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for client <a href="#jobs">contact</a> type from job</td>
</tr>
<tr>
<td><code class="prettyprint">booking_id</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td>Identifier for job unit wants to call client of. If endpoint called directly (not trough job) booking id is required.</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="change-payment-method">Change payment method</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "payment_method": 1
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/123"</span>
</code></pre>

<p>Unit can change payment method by writing the payment method id to the job.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}&quot;</code></p>

<h3 id="change-payment-method-request-parameters">Change payment method request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payment_method</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier of payment method to set on the job</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="modify-price">Modify price</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "read_only": true,
        "price_modifications": [
          {
            "id": 1,
            "value": "2.5",
            "comment": "Scotch guard"
          },
          {
            "id": 2,
            "value": "15",
            "comment": "Parking"
          }
        ]
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/123/modify_price"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"price_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£12"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Units can modify the price of a job by passing price modifiers with values.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/modify_price&quot;</code></p>

<h3 id="modify-price-request-parameters">Modify price request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">read_only</code><br><em>required</em></td>
<td><em>boolean</em></td>
<td>Determines whether the changes are applied on the job or only new price is calculated</td>
</tr>
<tr>
<td><code class="prettyprint">price_modifications</code></td>
<td><em>array</em></td>
<td>List of price modifiers and values</td>
</tr>
<tr>
<td><code class="prettyprint">price_modifications.id</code></td>
<td><em>integer</em></td>
<td>Identifier of price modifier (from <a href="#jobs">job.services_price_modifiers.price_modifier</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">price_modifications.value</code></td>
<td><em>string</em></td>
<td>Value for price modifier (from <a href="#jobs">job.services_price_modifiers.price_modifier</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">price_modifications.comment</code></td>
<td><em>string</em></td>
<td>Comment left from the unit for the price modification</td>
</tr>
</tbody></table>

<h3 id="modify-price-response-parameters">Modify price response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price_formatted</code></td>
<td><em>string</em></td>
<td>Calculated price after price modifications</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="decline-job">Decline job</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "reason_id": 123,
        "comment": "Can not get on time",
        "lat": 51.604903,
        "lng": -0.457022
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/unit/jobs/123/decline"</span>
</code></pre>

<p>Units can decline jobs by passing decline_reason</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;jobs/{{job_id}}/decline&quot;</code></p>

<h3 id="decline-job-request-parameters">Decline job request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">reason_id</code><br><em>required</em></td>
<td><em>integer</em></td>
<td>Identifier for decline_reason unit chose</td>
</tr>
<tr>
<td><code class="prettyprint">comment</code></td>
<td><em>string</em></td>
<td>Message template used for the message</td>
</tr>
<tr>
<td><code class="prettyprint">lat</code></td>
<td><em>double</em></td>
<td>Latitude where event occured</td>
</tr>
<tr>
<td><code class="prettyprint">lng</code></td>
<td><em>double</em></td>
<td>Longitude where event occured</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="job-offers">Job offers</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/job_offers"</span>
</code></pre>

<p>List of available <a href="#jobs">job</a> offers for the unit</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;job_offers&quot;</code></p>

<h3 id="response-parameters-additional-to-job">Response parameters (additional to job)</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">offer_id</code></td>
<td><em>integer</em></td>
<td>Unique identifier for the offer</td>
</tr>
<tr>
<td><code class="prettyprint">offer_expire_time</code></td>
<td><em>integer</em></td>
<td>Time when offer expires UTC timestamp</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#job-offers-errors">Job offers errors</a></li>
</ul>

<h2 id="reply-job-offers">Reply job offers</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "job_offer_id": "23kljhkl34hl1k23",
        "reply": 1
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/reply_job_offer"</span>
</code></pre>

<p>When job offers are received unit can accept or decline them.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;reply_job_offer&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">job_offer_id</code></td>
<td><em>integer</em></td>
<td>Uniquie identifier of the offer</td>
</tr>
<tr>
<td><code class="prettyprint">reply</code></td>
<td><em>integer</em></td>
<td><em><b>1</b> - Accept</em><br><em><b>2</b> - Decline</em></td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
<li><a href="#reply-job-offer-errors">Reply job offer errors</a></li>
</ul>

<h2 id="policies">Policies</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/unit/policies"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nt">"agreed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum nec auctor sem. Fusce et urna at tortor ultrices ultricies. Nullam eget neque ut dolor ullamcorper porttitor. Morbi tempor leo justo. Nunc vulputate nibh odio, id aliquam tortor pretium at."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"read_confirmation_checkbox_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I have read the terms and conditions"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"agree_button_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I agree"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"available_languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"English"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Български"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bg"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List of company policies. By default the endpoint returns only the policies that unit has not agreed on yet.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;policies&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">agreed</code></td>
<td><em>boolean</em></td>
<td>Read and agreed with the policy</td>
</tr>
<tr>
<td><code class="prettyprint">text</code></td>
<td><em>string</em></td>
<td>Rich text content of the policy</td>
</tr>
<tr>
<td><code class="prettyprint">read_confirmation_checkbox_title</code></td>
<td><em>string</em></td>
<td>Title of checkbox for reading the policy</td>
</tr>
<tr>
<td><code class="prettyprint">agree_button_title</code></td>
<td><em>string</em></td>
<td>Title of confirmation button for the policy</td>
</tr>
<tr>
<td><code class="prettyprint">language_code</code></td>
<td><em>string</em></td>
<td>Language code of the text language</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">filter.agreed</code></td>
<td><em>boolean</em></td>
<td><em>any [true, false]</em></td>
<td>Filters policies by <code class="prettyprint">agreed</code> flag. If no filter is passed all policies are returned.</td>
</tr>
<tr>
<td><code class="prettyprint">filter.language_code</code></td>
<td><em>string</em></td>
<td><em>user defualt language code</em></td>
<td>Filters policies by <code class="prettyprint">language_code</code>. If no filter is passed the default language code for the unit is used.</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="shared">Shared</h1>

<h2 id="user-applications">User applications</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/shared/user_applications"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98z07v980vbn98790zx7v9c8vx7890xzc8v7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"push_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98z07v980vbn98790zx7v9c8vx7890xzc8v7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="mi">231</span><span class="p">,</span><span class="w">
      </span><span class="nt">"react_bundle_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.15.2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iPhone 6S"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device_resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1915x949"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"os"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iOS"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"os_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.1.1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"db_size"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"client_application_size"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"battery_usage"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data_usage"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"profile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UnitedKingdom"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"browser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"browser_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63.0.3239.132"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"browser_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"browser_resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1915x949"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_push_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"allow_mk_push_notifications"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"application"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BFantastic iOS"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Details for the environment on which the user uses the application.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user_applications&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br><em>read-only</em></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">guid</code></td>
<td><em>string</em></td>
<td>Unique device identifier</td>
</tr>
<tr>
<td><code class="prettyprint">push_token</code></td>
<td><em>string</em></td>
<td>Unique identifier for sending push notifications</td>
</tr>
<tr>
<td><code class="prettyprint">build</code></td>
<td><em>integer</em></td>
<td>Application build number</td>
</tr>
<tr>
<td><code class="prettyprint">react_bundle_version</code></td>
<td><em>integer</em></td>
<td>Application build number</td>
</tr>
<tr>
<td><code class="prettyprint">version</code></td>
<td><em>string</em></td>
<td>Application version</td>
</tr>
<tr>
<td><code class="prettyprint">device</code></td>
<td><em>string</em></td>
<td>Device model</td>
</tr>
<tr>
<td><code class="prettyprint">device_resolution</code></td>
<td><em>string</em></td>
<td>Device screen resolution</td>
</tr>
<tr>
<td><code class="prettyprint">os</code></td>
<td><em>string</em></td>
<td>Device operating system</td>
</tr>
<tr>
<td><code class="prettyprint">os_version</code></td>
<td><em>string</em></td>
<td>Device operating system version</td>
</tr>
<tr>
<td><code class="prettyprint">db_size</code></td>
<td><em>double</em></td>
<td>Database size on device</td>
</tr>
<tr>
<td><code class="prettyprint">client_application_size</code></td>
<td><em>double</em></td>
<td>Application size on device</td>
</tr>
<tr>
<td><code class="prettyprint">battery_usage</code></td>
<td><em>double</em></td>
<td>Percentage used from the application</td>
</tr>
<tr>
<td><code class="prettyprint">data_usage</code><br><em>read only</em></td>
<td><em>double</em></td>
<td>KB the application used in communication with the server</td>
</tr>
<tr>
<td><code class="prettyprint">profile</code><br><em>read only</em></td>
<td><em>string</em></td>
<td>Currently selected profile (keyword)</td>
</tr>
<tr>
<td><code class="prettyprint">browser</code></td>
<td><em>string</em></td>
<td>Browser used to access the application</td>
</tr>
<tr>
<td><code class="prettyprint">browser_version</code></td>
<td><em>string</em></td>
<td>Version of the browser used to access the application</td>
</tr>
<tr>
<td><code class="prettyprint">browser_language</code></td>
<td><em>string</em></td>
<td>Language of the browser used to access the application</td>
</tr>
<tr>
<td><code class="prettyprint">browser_resolution</code></td>
<td><em>string</em></td>
<td>Resolution of the window of the browser used to access the application</td>
</tr>
<tr>
<td><code class="prettyprint">allow_push_notifications</code></td>
<td><em>boolean</em></td>
<td>Allow sending push notifications (including system pushes e.g. booking reminders as well as marketing pushes)</td>
</tr>
<tr>
<td><code class="prettyprint">allow_mk_push_notifications</code></td>
<td><em>boolean</em></td>
<td>Allow sending marketing push notifications for deals, offers etc.</td>
</tr>
<tr>
<td><code class="prettyprint">application</code><br><em>read only</em></td>
<td><em>integer</em></td>
<td>External App application (based on X-Application)</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="push-notifications">Push notifications</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/shared/push_notifications"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text from push notification"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for popup is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout our fresh deal!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"popup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://images.com/photo.jpg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello there"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is awesome, you should try!"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"cta_button"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Got it!"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"deep_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoFantastic://?fs_screen=treats"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"screen_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nt">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"voucher"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"voucher_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FREE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"banner_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Use voucher code FREE for a free service"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497429186</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for inbox is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The dog is tied."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"job_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"client_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW12 2TH"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The dog is tied."</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for job offer is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout our fresh deal!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"job_offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
          </span><span class="nt">"expire_time"</span><span class="p">:</span><span class="mi">1497859985</span><span class="p">,</span><span class="w">
          </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for target is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout our fresh deal!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"screen_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for rating is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You just got rated! Check out your score."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate.mp3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Didn't clean the kitchen well"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"client_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for bonus is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout our fresh deal!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bonus.mp3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bonus_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total_bonus"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total_bonus_formatted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£20"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carpet Cleaning"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for added job to schedule is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New job received - Gardening at SW12 2TH starting 10:00."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_job.mp3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for removed job from schedule is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Removed job - Gardening at SW12 2TH starting 10:00."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"removed_job.mp3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for appointment time change is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, SW12 2TH 10:00 has been changed to 12:00."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for price change is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, SW12 2TH at 10:00 total has been changed from £120 to £180."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for payment method change is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, SW12 2TH at 10:00 has been changed from Cash to Card."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for payment status change is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, SW12 2TH at 10:00 has been changed from Unpaid to Paid."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for new job comment is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, you have %d new comment for SW12 2TH at 10:00."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for new task is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, you have a new task \"{{TASK_NAME}}\""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">345</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The above request success response for new task note is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"action"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey, you have a new message on task \"{{TASK_NAME}}\""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
          </span><span class="nt">"note_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">345</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>History of all pushes sent to unit.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;push_notifications&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><em>integer</em></td>
<td><em><b>500</b> - Pending</em><br><em><b>1000</b> - Sent</em><br><em><b>1500</b> - Failed</em><br><em><b>2000</b> - Delivered</em><br><em><b>3000</b> - Seen</em></td>
</tr>
<tr>
<td><code class="prettyprint">action</code></td>
<td><em>integer</em></td>
<td>Describes what action should be triggered on the unit. Pushes can be regular (with sound and message) or silent (waking up the app, no sound or message)<br><br><em><b>1</b> - Update jobs (silent)</em><br><em><b>2</b> - Popup message (regular)</em><br><em><b>3</b> - Inbox message (regular)</em><br><em><b>5</b> - Update location (silent)</em><br><em><b>6</b> - New job (silent)</em><br><em><b>7</b> - New job (regular)</em><br><em><b>8</b> - Open service (regular)</em><br><em><b>9</b> - Open chat (regular)</em><br><em><b>10</b> - New rating (regular)</em><br><em><b>11</b> - Offer with promo code (regular)</em><br><em><b>12</b> - Custom</em><br><em><b>13</b> - New bonus (regular)</em><br><em><b>14</b> - Added new job to schedule (regular)</em><br><em><b>15</b> - Removed job from schedule (regular)</em><br><em><b>16</b> - Job appointment time changed (regular)</em><br><em><b>17</b> - Job price changed (regular)</em><br><em><b>18</b> - Job payment method changed (regular)</em><br><em><b>19</b> - Job payment status changed (regular)</em><br><em><b>20</b> - Job new comment (regular)</em><br><em><b>25</b> - New task (regular)</em><br><em><b>26</b> - New note on a task (regular)</em><br><em><b>100</b> - Upload database to server (silent)</em></td>
</tr>
<tr>
<td><code class="prettyprint">message</code></td>
<td><em>string</em></td>
<td>Push notification text</td>
</tr>
<tr>
<td><code class="prettyprint">sound</code></td>
<td><em>string</em></td>
<td>Push notification sound file name</td>
</tr>
<tr>
<td><code class="prettyprint">payload</code> <br><em>dynamic</em></td>
<td><em>object</em></td>
<td>Custom data based on action</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td><em>integer</em></td>
<td>Timestamp of creation</td>
</tr>
</tbody></table>

<h3 id="popup-push-response-parameters">Popup push response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payload.popup.image_url</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.title</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.description</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.cta_button.title</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.cta_button.deep_link</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.cta_button.target.screen_id</code></td>
<td><em>integer</em></td>
<td>Determines which screen is opened when tapping the CTA button:<br/><em><b>1</b> - Categories</em><br><em><b>2</b> - Category</em><br><em><b>3</b> - Service</em><br><em><b>4</b> - Deals</em><br><em><b>5</b> - Deal</em><br><em><b>6</b> - Chat</em><br><em><b>7</b> - Referral</em><br><em><b>8</b> - Treats</em><br><em><b>9</b> - Membership</em><br><em><b>10</b> - Privacy policy</em></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.cta_button.target.screen_id.item_id</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.voucher.voucher_code</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.voucher.banner_title</code></td>
<td><em>string</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.popup.voucher.valid_to</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
</tbody></table>

<h3 id="job-offer-push-response-parameters">Job offer push response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payload.job_offer.id</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.job_offer.expire_time</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.job_offer.available</code></td>
<td><em>boolean</em></td>
<td></td>
</tr>
</tbody></table>

<h3 id="open-content-push-response-parameters">Open content push response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payload.target.screen_id</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">payload.target.item_id</code></td>
<td><em>integer</em></td>
<td></td>
</tr>
</tbody></table>

<h3 id="rate-push-response-parameters">Rate push response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payload.rate</code></td>
<td><em>integer</em></td>
<td>Rating client gave for the job</td>
</tr>
<tr>
<td><code class="prettyprint">payload.comment</code></td>
<td><em>string</em></td>
<td>Client comment upon rating the job</td>
</tr>
<tr>
<td><code class="prettyprint">payload.client_name</code></td>
<td><em>string</em></td>
<td>Name of client who rated the job</td>
</tr>
</tbody></table>

<h3 id="bonus-push-response-parameters">Bonus push response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">payload.bonus</code></td>
<td><em>double</em></td>
<td>Bonus for cross-sell on sight or with flyer</td>
</tr>
<tr>
<td><code class="prettyprint">payload.bonus_formatted</code></td>
<td><em>string</em></td>
<td>Formatted bonus for cross-sell on sight or with flyer</td>
</tr>
<tr>
<td><code class="prettyprint">payload.total_bonus</code></td>
<td><em>double</em></td>
<td>Total bonus to collect before current bonus</td>
</tr>
<tr>
<td><code class="prettyprint">payload.total_bonus_formatted</code></td>
<td><em>string</em></td>
<td>Formatted total bonus to collect before current bonus</td>
</tr>
<tr>
<td><code class="prettyprint">payload.service</code></td>
<td><em>string</em></td>
<td>Cross-selled service name</td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.created_at_gt</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td><em><b>0</b></em></td>
<td>Filters response with created_at greater than the passed</td>
</tr>
<tr>
<td><code class="prettyprint">filter.action</code><br><em>optional</em></td>
<td><em>integer</em></td>
<td><em>all actions</em></td>
<td>Filters push notifications by <code class="prettyprint">action</code>. If no filter is passed all push notifications are returned. To filter push notifications by more than one action pass an array of actions e.g. <code class="prettyprint">[1, 2]</code></td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="server-time">Server time</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/shared/server_time"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"utc_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1497859985</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The current time on the server.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;server_time&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">utc_time</code></td>
<td><em>integer</em></td>
<td>UTC timestamp</td>
</tr>
</tbody></table>

<h2 id="upload-file">Upload file</h2>
<pre class="highlight shell"><code>curl 
  -X POST <span class="se">\</span>
  -H <span class="s1">'X-Application: {{APPLICATION_TOKEN}}'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW'</span> <span class="se">\</span>
  -F <span class="nv">file</span><span class="o">=</span>@/Users/petargezenchov/Desktop/flowers.jpg <span class="se">\</span>
  <span class="s2">"https://{{BASE_URL}}/v2/shared/upload_file"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/gAa477rBhibFP9n22QOgJSDfZ7DRIAKc5p19SckNnqXOs6C3atZvy2faOPCY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gAa477rBhibFP9n22QOgJSDfZ7DRIAKc5p19SckNnqXOs6C3atZvy2faOPCY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"file_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IMG_1923.JPG"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpeg"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"thumbs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://files.dxr.cloud/3EI31yvAxS0c61m3sim2enRTX7oygtYdzePEdlv78xz7rFkxQQ7ex9sRle2T"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mime_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/jpeg"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"uploaded_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1547023031</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Uploads a file to the server.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;upload_file&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td><em>string</em></td>
<td>URL to access uploaded the image</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td><em>string</em></td>
<td>Idenfier for uploaded image</td>
</tr>
<tr>
<td><code class="prettyprint">file_name</code></td>
<td><em>string</em></td>
<td>Name of file uploaded</td>
</tr>
<tr>
<td><code class="prettyprint">mime_type</code></td>
<td><em>string</em></td>
<td>File type of uploaded image</td>
</tr>
<tr>
<td><code class="prettyprint">thumbs.url</code></td>
<td><em>string</em></td>
<td>URL to access uploaded image thumbnail</td>
</tr>
<tr>
<td><code class="prettyprint">thumbs.mime_type</code></td>
<td><em>string</em></td>
<td>File type of uploaded image thumbnail</td>
</tr>
<tr>
<td><code class="prettyprint">uploaded_at</code></td>
<td><em>integer</em></td>
<td>File upload time in UTC timestamp</td>
</tr>
</tbody></table>

<h2 id="tasks">Tasks</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "booking_reference_number": "180619112MB",
  "priority_id": 34,
  "description": "some random description",
  "department_id": 7112,
  "user_id": 1763,
  "schedule_time_formatted": "2018-06-19 12:00:00",
  "email_on_completion": "tihomir.kamenov@1stonlinesolutions.com"
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/shared/tasks"</span>
</code></pre>

<p>Creates task to files. Used when clients want to make changes on a booking that require manual action from operator.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;tasks&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">booking_reference_number</code></td>
<td><em>string</em></td>
<td>Reference number of booking to create task to</td>
</tr>
<tr>
<td><code class="prettyprint">priority_id</code></td>
<td><em>integer</em></td>
<td>identifier of priority to create task with</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Text comment left on creating the task</td>
</tr>
<tr>
<td><code class="prettyprint">department_id</code><br><em>read-only</em></td>
<td><em>integer</em></td>
<td>Identifier of department that will take care of the task</td>
</tr>
<tr>
<td><code class="prettyprint">user_id</code><br><em>read-only</em></td>
<td><em>integer</em></td>
<td>Identifier of user that will take care of the task</td>
</tr>
<tr>
<td><code class="prettyprint">schedule_time_formatted</code><br><em>read-only</em></td>
<td><em>string</em></td>
<td>Time of tasks when the task has to be performed</td>
</tr>
<tr>
<td><code class="prettyprint">email_on_completion</code><br><em>read-only</em></td>
<td><em>string</em></td>
<td>Email recepient of task completion notification email</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="application-feedback">Application feedback</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
        "source": "after_booking",
        "text": "I really like this app!",
        "attachments": [
          "yXE6NxkgaWtRRH4qGaDYCp78oRKwEG1a6zdyYDavYWDOFeQQQsbQjfsL"
        ]
}'</span><span class="se">\</span>
 <span class="s2">"https://{{BASE_URL}}/v2/shared/application_feedback"</span>
</code></pre>

<p>Users can share feedback on their experience with the application they are using.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;application_feedback&quot;</code></p>

<h3 id="feedback-request-parameters">Feedback request parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">source</code><br><em>required</em></td>
<td><em>string</em></td>
<td>Where feedback was collected:<br><em><b>after_booking</b> - after second booking</em><br><em><b>account_tab</b> - in account tab</em><br><em><b>watch_booking</b> - representing a watch booking</em><br><em><b>deprecated_chat</b> - feedback from form shown when user has deprecated chat</em></td>
</tr>
<tr>
<td><code class="prettyprint">text</code><br><em>required</em></td>
<td><em>string</em></td>
<td>User feedback input text</td>
</tr>
<tr>
<td><code class="prettyprint">attachments</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>File attachment tokens</td>
</tr>
</tbody></table>

<h2 id="exceptions">Exceptions</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X POST<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
 -H <span class="s2">"X-Profile: {{PROFILE_ID}}"</span><span class="se">\</span>
 -H <span class="s2">"Authorization: {{AUTHORIZATION_TOKEN}}"</span><span class="se">\</span>
 -d <span class="s1">'{
  "path": "https://middlepoint-dev.1dxr.com/v2/client/addresses",
  "message": "Invalid path",
  "body": {
    "address_line_one": "Red Lion Street 24",
    "postcode": "22"
  },
  "external_identifier": "AccountViewController",
  "exception": ""
}'</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/shared/exceptions"</span>
</code></pre>

<p>Errors appearing on clients.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;exceptions&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">path</code></td>
<td><em>string</em></td>
<td>Request path</td>
</tr>
<tr>
<td><code class="prettyprint">message</code></td>
<td><em>string</em></td>
<td>Message returned from server</td>
</tr>
<tr>
<td><code class="prettyprint">body</code></td>
<td><em>string</em></td>
<td>Content for error</td>
</tr>
<tr>
<td><code class="prettyprint">external_identifier</code></td>
<td><em>string</em></td>
<td>Identifier for the source of the error on the client</td>
</tr>
<tr>
<td><code class="prettyprint">exception</code></td>
<td><em>string</em></td>
<td>Details for the exception</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="system">System</h1>

<h2 id="user">User</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/system/user?private_key=8vx7890xzc&amp;access_token=98790zx7v9c8vx7890xzc"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10072</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bftestpro@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BFantastic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TrainingPro"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Details on a user provided to external systems. Data is accessed via access token aquired in authentication process.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;user&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code><br><em>read-only</em></td>
<td><em>integer</em></td>
<td>Unique identifier</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td><em>string</em></td>
<td>User credential</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td><em>string</em></td>
<td>First name</td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td><em>integer</em></td>
<td>Last name</td>
</tr>
<tr>
<td><code class="prettyprint">user_type_id</code></td>
<td><em>string</em></td>
<td>Type of user:<br/><em><b>1</b> - Administrator</em><br/><em><b>30</b> - AUS Franchisee</em><br/><em><b>6</b> - Office non - operator</em><br/><em><b>29</b> - Regular domestic cleaner</em><br/><em><b>9</b> - Sales Operator</em><br/><em><b>11</b> - UK Pro</em><br/><em><b>17</b> - Manager</em><br/><em><b>16</b> - Finance *<br/></em><b>27</b> - Affiliate*<br/><em><b>31</b> - Regular partner &amp; Operator UK</em><br/><em><b>35</b> - Job Consult Operators</em><br/><em><b>38</b> - Customer Services Operator</em><br/><em><b>39</b> - UK Franchisee</em><br/><em><b>40</b> - Job consult PRO</em><br/><em><b>46</b> - Sales/Customer service coordinator</em><br/><em><b>51</b> - AUS Customer service operator</em><br/><em><b>52</b> - UK Franchise partner</em><br/><em><b>54</b> - AUS Pro</em><br/><em><b>56</b> - Quality Control Officer</em><br/><em><b>59</b> - UK Pro - view jobs 7 days ahead</em><br/><em><b>60</b> - UK Franchisee - view jobs 7 days ahead</em><br/><em><b>61</b> - Master Franchisee</em><br/><em><b>62</b> - UK Franchisee - sees jobs after 5pm</em><br/><em><b>63</b> - Sales Trainee</em></td>
</tr>
</tbody></table>

<h3 id="params"><code class="prettyprint">params</code></h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query.private_key</code><br><em>optional</em></td>
<td><em>string</em></td>
<td><em>none</em></td>
<td>Key to access APi</td>
</tr>
<tr>
<td><code class="prettyprint">query.access_token</code></td>
<td><em>string</em></td>
<td><em>none</em></td>
<td>Access token aquired after authorization</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h2 id="client-statistics">Client statistics</h2>
<pre class="highlight shell"><code>curl<span class="se">\</span>
 -X GET<span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span><span class="se">\</span>
 -H <span class="s2">"X-Application: {{APPLICATION_TOKEN}}"</span><span class="se">\</span>
<span class="s2">"https://{{BASE_URL}}/v2/system/client_statistics"</span>
</code></pre>

<blockquote>
<p>The above request success response is:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"members"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">289</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Statistics on clients.</p>

<p><code class="prettyprint">&quot;path&quot;: &quot;client_statistics&quot;</code></p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">members</code></td>
<td><em>integer</em></td>
<td>Count of clients with purchased membership</td>
</tr>
<tr>
<td><code class="prettyprint">total</code></td>
<td><em>integer</em></td>
<td>Count of overall clients</td>
</tr>
</tbody></table>

<p>This endpoint returns:</p>

<ul>
<li><a href="#common-errors">Common errors</a></li>
</ul>

<h1 id="meta">meta</h1>

<h2 id="new-version">New version</h2>

<blockquote>
<p>Meta in response for new version:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"new_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"build"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2.10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"force_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"download_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"itunes://gofantastic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Get the latest version to be able to manage your regular bookings!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the latest version for the client.</p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">build</code></td>
<td><em>integer</em></td>
<td>Build number of the version</td>
</tr>
<tr>
<td><code class="prettyprint">version</code></td>
<td><em>string</em></td>
<td>Version number</td>
</tr>
<tr>
<td><code class="prettyprint">force_update</code></td>
<td><em>boolean</em></td>
<td>Determines whether update to this version is optional or required</td>
</tr>
<tr>
<td><code class="prettyprint">download_url</code></td>
<td><em>string</em></td>
<td>URL to get the latest version (AppStore, PlayStore, Enterprise installation file etc.)</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><em>string</em></td>
<td>Message containing details for the update</td>
</tr>
</tbody></table>

<h2 id="changes">Changes</h2>

<blockquote>
<p>Meta in response for changes:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"jobs"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"policies"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banners"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the endopoints that have chagnes and need to be read again.</p>

<h3 id="response-parameters">Response parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">changes</code></td>
<td><em>array&lt;string&gt;</em></td>
<td>Array of paths to read</td>
</tr>
</tbody></table>

<h1 id="compatibility">Compatibility</h1>

<p>Response modifications based on <code class="prettyprint">X-Application-Build</code>.</p>

<h2 id="payment-methods">Payment methods</h2>

<p>Filters payment methods by <code class="prettyprint">type</code></p>

<h3 id="modifications">Modifications</h3>

<table><thead>
<tr>
<th>Application</th>
<th>Condition</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>BUID &lt; 747</td>
<td>Remove object with type <code class="prettyprint">PayPal</code> from response</td>
</tr>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>785 &lt; BUID &lt; 1300</td>
<td>Remove object with type <code class="prettyprint">Stripe</code> from response (if <code class="prettyprint">Braintree</code> is available in response)</td>
</tr>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>BUID &lt;= 785</td>
<td>Remove object with type <code class="prettyprint">Braintree</code> from response</td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>BUID &lt; 460</td>
<td>Remove object with type <code class="prettyprint">PayPal</code> from response</td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>647 &lt; BUID &lt; 1400</td>
<td>Remove object with type <code class="prettyprint">Stripe</code> from response (if <code class="prettyprint">Braintree</code> is available in response)</td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>BUID &lt;= 647</td>
<td>Remove object with type <code class="prettyprint">Braintree</code> from response</td>
</tr>
</tbody></table>

<p>Filters payment methods based on <code class="prettyprint">vendor</code></p>

<h3 id="modifications">Modifications</h3>

<table><thead>
<tr>
<th>Application</th>
<th>Operator</th>
<th>Build</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>&lt;=</td>
<td>828</td>
<td>Remove object with <code class="prettyprint">vendor != null</code></td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>&lt;=</td>
<td>814</td>
<td>Remove object with <code class="prettyprint">vendor != null</code></td>
</tr>
</tbody></table>

<p>Applied on endpoints:</p>

<ul>
<li><a href="#payment-methods">Payment methods</a></li>
<li><a href="#configuration">Configuration payment methods</a></li>
<li><a href="#purchase-membership-payment-methods">Purchase membership payment methods</a></li>
</ul>

<h2 id="users">Users</h2>

<p>Modifies user object data format.</p>

<h3 id="modifications">Modifications</h3>

<table><thead>
<tr>
<th>Application</th>
<th>Operator</th>
<th>Build</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>&lt;=</td>
<td>804</td>
<td>Transform membership object to integer. If membership is <code class="prettyprint">null</code> transform to 0. If membership object has value transform to 1.</td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>&lt;=</td>
<td>669</td>
<td>Transform membership object to integer. If membership is <code class="prettyprint">null</code> transform to 0. If membership object has value transform to 1.</td>
</tr>
</tbody></table>

<p>Applied on endpoints:</p>

<ul>
<li><a href="#users">Users</a></li>
</ul>

<h2 id="choices">Choices</h2>

<p>Filters choices based on contained choice items type.</p>

<h3 id="modifications">Modifications</h3>

<table><thead>
<tr>
<th>Application</th>
<th>Operator</th>
<th>Build</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>GoFantastic iOS</em></td>
<td>&lt;</td>
<td>800</td>
<td>Remove choices containing choice items of type 7, 12 and 13</td>
</tr>
<tr>
<td><em>GoFantastic Android</em></td>
<td>&lt;</td>
<td>669</td>
<td>Remove choices containing choice items of type 7, 12 and 13</td>
</tr>
</tbody></table>

<p>Applied on endpoints:</p>

<ul>
<li><a href="#services">Services</a></li>
<li><a href="#bookings">Booking service</a></li>
<li><a href="#booking-transacations">Booking transaction service</a></li>
</ul>

          <h1 id="errors">Errors</h1>

<p>The API uses the following error codes:</p>

<h2 id="common-errors">Common errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5105</td>
<td>Server error (Possible missconfiguration)</td>
</tr>
<tr>
<td>5110</td>
<td>Invalid namespace</td>
</tr>
<tr>
<td>5115</td>
<td>Invalid JSON format</td>
</tr>
<tr>
<td>5116</td>
<td>Missing requests wrapper or invalid request</td>
</tr>
<tr>
<td>5117</td>
<td>Invalid request method</td>
</tr>
<tr>
<td>5118</td>
<td>Invalid request path</td>
</tr>
<tr>
<td>5140</td>
<td>Invalid application</td>
</tr>
<tr>
<td>5141</td>
<td>Invalid profile</td>
</tr>
<tr>
<td>5142</td>
<td>Unauthorized</td>
</tr>
<tr>
<td>5144</td>
<td>Invalid access token</td>
</tr>
<tr>
<td>5500</td>
<td>Server error (could be anything)</td>
</tr>
</tbody></table>

<h2 id="login-errors">Login errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5507</td>
<td>Invalid login request: social data or username and password required</td>
</tr>
<tr>
<td>5508</td>
<td>Password required</td>
</tr>
<tr>
<td>5509</td>
<td>Invalid social_provider_id</td>
</tr>
<tr>
<td>5510</td>
<td>Invalid client credentials</td>
</tr>
<tr>
<td>5511</td>
<td>Social account not verified</td>
</tr>
<tr>
<td>5525</td>
<td>Account doesn&rsquo;t exist</td>
</tr>
</tbody></table>

<h2 id="register-errors">Register errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5501</td>
<td>Registration type_id is required</td>
</tr>
<tr>
<td>5502</td>
<td>Invalid email</td>
</tr>
<tr>
<td>5503</td>
<td>Invalid brand_id</td>
</tr>
<tr>
<td>5504</td>
<td>Invalid phone</td>
</tr>
<tr>
<td>5505</td>
<td>Email already taken</td>
</tr>
<tr>
<td>5506</td>
<td>Invalid social data</td>
</tr>
<tr>
<td>5509</td>
<td>Invalid social_provider_id</td>
</tr>
<tr>
<td>5511</td>
<td>Social account not verified</td>
</tr>
<tr>
<td>5512</td>
<td>Social account already registered</td>
</tr>
<tr>
<td>5513</td>
<td>Invalid referral code</td>
</tr>
<tr>
<td>5514</td>
<td>First name is required</td>
</tr>
<tr>
<td>5515</td>
<td>Last name is required</td>
</tr>
<tr>
<td>5516</td>
<td>At least 5-character password is required</td>
</tr>
</tbody></table>

<h2 id="request-reset-password-errors">Request reset password errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5502</td>
<td>Invalid email</td>
</tr>
<tr>
<td>5530</td>
<td>Email not found</td>
</tr>
</tbody></table>

<h2 id="reset-password-user-details-errors">Reset password user details errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5531</td>
<td>Invalid reset password token</td>
</tr>
</tbody></table>

<h2 id="register-token-infos-errors">Register token infos errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5610</td>
<td>Invalid registration token</td>
</tr>
</tbody></table>

<h2 id="reset-password-errors">Reset password errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5531</td>
<td>Invalid reset password token</td>
</tr>
<tr>
<td>5516</td>
<td>At least 5-character password is required</td>
</tr>
<tr>
<td>5532</td>
<td>Password and password confirmation do not match - # optional if password_confirm passsed</td>
</tr>
</tbody></table>

<h2 id="booking-process-errors">Booking process errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>6500</td>
<td>Time slot is unavailable</td>
</tr>
<tr>
<td>6501</td>
<td>Time slots for this service tend to get booked very quickly and this one is no longer available. Don\&rsquo;t worry, just pick another one and try again.</td>
</tr>
<tr>
<td>6502</td>
<td>Timeslot or timeslot_formatted are required</td>
</tr>
<tr>
<td>6503</td>
<td>Unit is not available anymore, pick another one.</td>
</tr>
<tr>
<td>6550</td>
<td>Unit is not available anymore</td>
</tr>
<tr>
<td>6745</td>
<td>Slot is no longer available</td>
</tr>
<tr>
<td>7025</td>
<td>Time slot is for members only</td>
</tr>
<tr>
<td>6710</td>
<td>Invalid transaction token</td>
</tr>
<tr>
<td>6711</td>
<td>Invalid service</td>
</tr>
<tr>
<td>6712</td>
<td>Invalid address</td>
</tr>
<tr>
<td>6713</td>
<td>Invalid postcode</td>
</tr>
<tr>
<td>6714</td>
<td>Service %s in %s is not covered</td>
</tr>
<tr>
<td>6715</td>
<td>address_line_one is required</td>
</tr>
<tr>
<td>6716</td>
<td>addresses are required</td>
</tr>
<tr>
<td>6717</td>
<td>Invalid payment_method</td>
</tr>
<tr>
<td>6718</td>
<td>Invalid paymethod</td>
</tr>
<tr>
<td>6719</td>
<td>Service mismatch</td>
</tr>
<tr>
<td>6720</td>
<td>Client mismatch</td>
</tr>
<tr>
<td>6721</td>
<td>Address mismatch</td>
</tr>
<tr>
<td>6722</td>
<td>choice_items are required</td>
</tr>
<tr>
<td>6723</td>
<td>Choice \&rsquo;%s\&rsquo; items are required</td>
</tr>
<tr>
<td>6724</td>
<td>Choice item object format is: id and value</td>
</tr>
<tr>
<td>6725</td>
<td>Selected choice item does not belong to the service</td>
</tr>
<tr>
<td>6726</td>
<td>Choice item \&rsquo;%s\&rsquo; is required</td>
</tr>
<tr>
<td>6727</td>
<td>Invalid phone</td>
</tr>
<tr>
<td>6728</td>
<td>Invalid email</td>
</tr>
<tr>
<td>6729</td>
<td>Invalid file token</td>
</tr>
<tr>
<td>6730</td>
<td>Invalid reschedule reason</td>
</tr>
<tr>
<td>6731</td>
<td>Invalid online status - no transaction state</td>
</tr>
<tr>
<td>6732</td>
<td>Authorization is required to confirm the booking transaction</td>
</tr>
<tr>
<td>6733</td>
<td>Invalid cross token</td>
</tr>
<tr>
<td>6734</td>
<td>You cannot access this booking</td>
</tr>
<tr>
<td>6735</td>
<td>Postcode is required</td>
</tr>
<tr>
<td>6736</td>
<td>Postcode \&rsquo;%s\&rsquo; not covered</td>
</tr>
<tr>
<td>6737</td>
<td>Booking is already performed</td>
</tr>
<tr>
<td>6738</td>
<td>Invalid cancel reason</td>
</tr>
<tr>
<td>6739</td>
<td>Invalid booking status</td>
</tr>
<tr>
<td>6740</td>
<td>Booking cannot be canceled due to short notice</td>
</tr>
<tr>
<td>6741</td>
<td>Booking cannot be rescheduled due to short notice</td>
</tr>
<tr>
<td>6742</td>
<td>Init choice items are required</td>
</tr>
<tr>
<td>6800</td>
<td>Something went wrong</td>
</tr>
</tbody></table>

<h2 id="payment-errors">Payment errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>4570</td>
<td>3D Security required\</td>
</tr>
<tr>
<td>7020</td>
<td>Amex not supported</td>
</tr>
</tbody></table>

<h2 id="register-voucher-errors">Register voucher errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>6018</td>
<td>This voucher is already registered to another user</td>
</tr>
<tr>
<td>6019</td>
<td>This voucher is not available to be registered to a user</td>
</tr>
<tr>
<td>6026</td>
<td>Missing voucher code</td>
</tr>
</tbody></table>

<h2 id="tracked-locations-errors">Tracked locations errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>5721</td>
<td>Latitude is required</td>
</tr>
<tr>
<td>5722</td>
<td>Longitude is required</td>
</tr>
<tr>
<td>5723</td>
<td>Event time is required</td>
</tr>
</tbody></table>

<h2 id="job-offers-errors">Job offers errors</h2>

<p>9019 | Offer for the booking not found</p>

<h2 id="reply-job-offer-errors">Reply job offer errors</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>9029</td>
<td>job_offer_id is required</td>
</tr>
<tr>
<td>9031</td>
<td>reply is required</td>
</tr>
<tr>
<td>9030</td>
<td>Job not found</td>
</tr>
<tr>
<td>9014</td>
<td>Job is already taken</td>
</tr>
<tr>
<td>9017</td>
<td>Job offer expired</td>
</tr>
<tr>
<td>9013</td>
<td>Job unit offer not found or already responded</td>
</tr>
<tr>
<td>9015</td>
<td>Something went wrong pro not set to booking</td>
</tr>
</tbody></table>

          <h1 id="warnings">Warnings</h1>

<p>The API uses the following warning codes:</p>

<h2 id="booking-process-warnings">Booking process warnings</h2>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>6750</td>
<td>Invalid payment method for the service. Please choose another!</td>
</tr>
</tbody></table>

          <h1 id="successes">Successes</h1>

<p>The API uses the following success codes:</p>

<h2 id="common-2000">Common (2000)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>2000</td>
<td>Success</td>
</tr>
</tbody></table>

<h2 id="client-account-2100-2199">Client account (2100-2199)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>2145</td>
<td>Account created</td>
</tr>
<tr>
<td>2146</td>
<td>Your password has been successfully updated!</td>
</tr>
<tr>
<td>2147</td>
<td>Logged out</td>
</tr>
<tr>
<td>2148</td>
<td>Deactivation account request received</td>
</tr>
<tr>
<td>2149</td>
<td>Client is deleted</td>
</tr>
<tr>
<td>2150</td>
<td>Message saved successfully (Frontdesk)</td>
</tr>
<tr>
<td>2151</td>
<td>Answer saved successfully (Frontdesk)</td>
</tr>
<tr>
<td>2155</td>
<td>Fantastic Club cancellation request received</td>
</tr>
<tr>
<td>2156</td>
<td>Membership purchased</td>
</tr>
<tr>
<td>2157</td>
<td>Membership renewed</td>
</tr>
<tr>
<td>2158</td>
<td>Membership cancelled</td>
</tr>
<tr>
<td>2161</td>
<td>Card collected</td>
</tr>
<tr>
<td>2162</td>
<td>Your address has been successfully added!</td>
</tr>
<tr>
<td>2163</td>
<td>Your address has been successfully deleted!</td>
</tr>
<tr>
<td>2164</td>
<td>Your address has been successfully updated!</td>
</tr>
<tr>
<td>2165</td>
<td>Your communication preferences has been saved!</td>
</tr>
<tr>
<td>2166</td>
<td>Feedback saved</td>
</tr>
<tr>
<td>2167</td>
<td>Your card details have been successfully added!</td>
</tr>
<tr>
<td>2168</td>
<td>Your card details have been successfully deleted!</td>
</tr>
<tr>
<td>2169</td>
<td>Your card details have been successfully updated!</td>
</tr>
<tr>
<td>2170</td>
<td>Your phone number has been successfully added!</td>
</tr>
<tr>
<td>2171</td>
<td>Your phone number has been successfully deleted!</td>
</tr>
<tr>
<td>2172</td>
<td>Your phone number has been successfully updated!</td>
</tr>
<tr>
<td>2173</td>
<td>Your personal information has been successfully updated!</td>
</tr>
<tr>
<td>2174</td>
<td>Your profile picture has been successfully uploaded!</td>
</tr>
<tr>
<td>2175</td>
<td>Your profile picture has been successfully deleted!</td>
</tr>
</tbody></table>

<h2 id="booking-process-2200-2399">Booking process (2200-2399)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>2205</td>
<td>Voucher code %s applied successfully</td>
</tr>
<tr>
<td>2208</td>
<td>Voucher code %s removed successfully</td>
</tr>
<tr>
<td>2210</td>
<td>Your appointment has been successfully cancelled!</td>
</tr>
</tbody></table>

<h2 id="jobs-2600-2650">Jobs (2600-2650)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
</tbody></table>

<h2 id="on-demand-2700-2750">On-demand (2700-2750)</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>2705</td>
<td>You successfully declined this job</td>
</tr>
<tr>
<td>2710</td>
<td>The job is yours!</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
